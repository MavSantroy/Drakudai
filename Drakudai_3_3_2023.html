<input type="hidden" class="sheet-tabstoggle" name="attr_sheetTab" value="character">
<div style="padding-left: 15em; padding-bottom: 10px;">
    <button class="sheet-button-roll" type="action" name="act_character">Character</button>
    <button class="sheet-button-roll" type="action" name="act_equipped">Equipped</button>
    <button class="sheet-button-roll" type="action" name="act_editskills">Skills</button>
    <button class="sheet-button-roll" type="action" name="act_inventory">Inventory</button>
    <button class="sheet-button-roll" type="action" name="act_editcharacter">Edit Character</button>
    <button class="sheet-button-roll" type="action" name="act_psionics">Psionics</button>

</div>

<div class="sheet-character">
    <div class="sheet-grid-section">
        <div class="sheet-core-stats sheet-block" style="text-align: center;">
            <input type="checkbox" class="sheet-block-switch" name="attr_block_switch" value="1">
                <div class="sheet-block-a">
                    <h2>
                        <span name="attr_character_name"></span>
                    </h2>
                    <span class="sheet-subheading sheet-center">Race</span></td>
                    <select class="sheet-dropdown" type="text" name="attr_race" style="width:75px;">
                        <option disabled hidden selected></option>
                        <option style="color:white;background:#000000;">Human</option>
                        <option style="color:white;background:#000000;">Sollox</option>
                        <option style="color:white;background:#000000;">Talaxian</option>
                        <option style="color:white;background:#000000;">Thorn</option>
                        <option style="color:white;background:#000000;" selected>Custom</option>
                    </select>               
                    <span disabled></span>    
                    <span disabled></span>    
                    <span disabled></span>    
                    <span disabled></span>    
                    <span disabled></span>    
                    <span disabled></span>    
                    <span disabled></span>    
                    <span disabled></span>    
                    <span disabled></span>    
                    <span disabled></span>    
                    <span disabled></span>    

                    <b>Attr</b>
                    <b>Score</b>
                    <b>Cyb.</b>
                    <b>Gen.</b>
                    <b>Art.</b>
                    <b>Misc.</b>
                    <b>Temp</b>
                    <b>Points</b>
                    <b>Progress</b>
                    <span class="sheet-core-bd" style="text-align:">Psi BD</span>
                    <span class="sheet-core-tk">Psi TK</span>
                    <span class="sheet-core-ca">Psi CA</span>
                    <span class="sheet-core-q">Quirk</span>

                    <b>STR</b>
                    <span class="sheet-red-color sheet-center" title="Strength Score" name="attr_strength" type="number"
                        value="attr_strength"></span>
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_strength_cyb" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_strength_gen" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_strength_art" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_strength_misc" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_strength_temp" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_strength_points" value="0"
                        style="width: 3em; text-align: center">
                    <select class="sheet-dropdown sheet-blue-color sheet-inputfield" type="text"
                        name="attr_strength_progression">
                        <option style="color:#278bce;background:#000000;" selected>1,2,3...</option>
                        <option style="color:#278bce;background:#000000;">4,5,6,7</option>
                        <option style="color:#278bce;background:#000000;">3,4,5,6</option>
                        <option style="color:#278bce;background:#000000;">2,3,4,5</option>
                        <option style="color:#278bce;background:#000000;">1,2,3,4</option>
                        <option style="color:#278bce;background:#000000;">3,3,3,3</option>
                        <option style="color:#278bce;background:#000000;">5,5,5,5</option>
                    </select>

                    <!-- PSI AUGMENTATION SECTION -->
                    <span class="sheet-core-bd" name="attr_psi_body_discipline_adaptation_str_bonus"
                        ></span>
                    <span class="sheet-core-tk" name="attr_psi_telekinesis_str_aug" ></span>
                    <span class="sheet-core-ca" name="attr_psi_cause" ></span>
                    <input class="sheet-inputfield sheet-core-q" type="number" name="attr_quirk_strength_bonus"
                        value="0" style="width: 3em; text-align: center" />


                    <b>DEX</b>
                    <span class="sheet-red-color sheet-center" name="attr_dexterity" value="attr_dexterity"></span>
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_dexterity_cyb" value="0"
                        style="width: 3em; text-align: center" />
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_dexterity_gen" value="0"
                        style="width: 3em; text-align: center" />
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_dexterity_art" value="0"
                        style="width: 3em; text-align: center" />
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_dexterity_misc" value="0"
                        style="width: 3em; text-align: center" />
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_dexterity_temp" value="0"
                        style="width: 3em; text-align: center" />
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_dexterity_points" value="0"
                        style="width: 3em; text-align: center" />
                    <select class="sheet-dropdown sheet-blue-color  sheet-inputfield" type="text"
                        name="attr_dexterity_progression" />
                    <option style="color:#278bce;background:#000000;" selected>1,2,3...</option>
                    <option style="color:#278bce;background:#000000;">4,5,6,7</option>
                    <option style="color:#278bce;background:#000000;">3,4,5,6</option>
                    <option style="color:#278bce;background:#000000;">2,3,4,5</option>
                    <option style="color:#278bce;background:#000000;">1,2,3,4</option>
                    <option style="color:#278bce;background:#000000;">3,3,3,3</option>
                    <option style="color:#278bce;background:#000000;">5,5,5,5</option>
                    </select>

                    <!-- PSI AUGMENTATION SECTION -->
                    <span class="sheet-core-bd" name="attr_psi_body_discipline_adaptation_dex_bonus"></span>
                    <span class="sheet-core-tk" name="attr_psi_telekinesis_dex_aug" ></span>
                    <span class="sheet-core-ca" name="attr_psi_cause" ></span>
                    <input class="sheet-inputfield sheet-core-q" type="number" name="attr_quirk_dexterity_bonus"
                        value="0" style="width: 3em; text-align: center">

                    <b>CON</b>
                    <span class="sheet-red-color sheet-center" name="attr_constitution"
                        value="attr_constitution"></span>
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_constitution_cyb" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_constitution_gen" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_constitution_art" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_constitution_misc" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_constitution_temp" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_constitution_points"
                        value="0" style="width: 3em; text-align: center">
                    <select class="sheet-dropdown sheet-blue-color  sheet-inputfield" type="text"
                        name="attr_constitution_progression">
                        <option style="color:#278bce;background:#000000;" selected>1,2,3...</option>
                        <option style="color:#278bce;background:#000000;">4,5,6,7</option>
                        <option style="color:#278bce;background:#000000;">3,4,5,6</option>
                        <option style="color:#278bce;background:#000000;">2,3,4,5</option>
                        <option style="color:#278bce;background:#000000;">1,2,3,4</option>
                        <option style="color:#278bce;background:#000000;">3,3,3,3</option>
                        <option style="color:#278bce;background:#000000;">5,5,5,5</option>
                    </select>

                    <!-- PSI AUGMENTATION SECTION-->
                    <span class="sheet-core-bd" name="attr_psi_body_discipline_adaptation_con_bonus"
                        ></span>
                    <span disabled></span>
                    <span class="sheet-core-ca" name="attr_psi_cause" ></span>
                    <input class="sheet-inputfield sheet-core-q" type="number" name="attr_quirk_constitution_bonus"
                        value="0" style="width: 3em; text-align: center">

                    <b>INT</b>
                    <span class="sheet-red-color sheet-center" name="attr_intelligence"
                        value="attr_intelligence"></span>
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_intelligence_cyb" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_intelligence_gen" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_intelligence_art" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_intelligence_misc" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_intelligence_temp" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_intelligence_points"
                        value="0" style="width: 3em; text-align: center">
                    <select class="sheet-dropdown sheet-blue-color  sheet-inputfield" type="text"
                        name="attr_intelligence_progression">
                        <option style="color:#278bce;background:#000000;" selected>1,2,3...</option>
                        <option style="color:#278bce;background:#000000;">4,5,6,7</option>
                        <option style="color:#278bce;background:#000000;">3,4,5,6</option>
                        <option style="color:#278bce;background:#000000;">2,3,4,5</option>
                        <option style="color:#278bce;background:#000000;">1,2,3,4</option>
                        <option style="color:#278bce;background:#000000;">3,3,3,3</option>
                        <option style="color:#278bce;background:#000000;">5,5,5,5</option>
                    </select>

                    <!-- PSI AUGMENTATION SECTION -->
                    <span class="sheet-core-do" style="padding-left: 2px; padding-top: 2px;">Dom</span>
                    <span class="sheet-core-cl" style="padding-left: 2px; padding-top: 2px;">Cla</span>
                    <span class="sheet-core-ca" name="attr_psi_cause" ></span>
                    <input class="sheet-inputfield sheet-core-q" type="number" name="attr_quirk_intelligence_bonus"
                        value="0" style="width: 3em; text-align: center">

                    <b>WIS</b>
                    <span class="sheet-red-color sheet-center" name="attr_wisdom" value="attr_wisdom"></span>
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_wisdom_cyb" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_wisdom_gen" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_wisdom_art" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_wisdom_misc" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_wisdom_temp" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_wisdom_points" value="0"
                        style="width: 3em; text-align: center">
                    <select class="sheet-dropdown sheet-blue-color  sheet-inputfield" type="text"
                        name="attr_wisdom_progression">
                        <option style="color:#278bce;background:#000000;" selected>1,2,3...</option>
                        <option style="color:#278bce;background:#000000;">4,5,6,7</option>
                        <option style="color:#278bce;background:#000000;">3,4,5,6</option>
                        <option style="color:#278bce;background:#000000;">2,3,4,5</option>
                        <option style="color:#278bce;background:#000000;">1,2,3,4</option>
                        <option style="color:#278bce;background:#000000;">3,3,3,3</option>
                        <option style="color:#278bce;background:#000000;">5,5,5,5</option>
                    </select>

                    <!-- PSI AUGMENTATION SECTION -->
                    <span class="sheet-core-do" name="attr_psi_domination_wis_bonus" style="text-align: center;"></span>
                    <span class="sheet-core-cl" name="attr_psi_clairvoyance_wis_bonus" ></span>
                    <span class="sheet-core-ca" name="attr_psi_cause" ></span>
                    <input class="sheet-inputfield sheet-core-q" type="number" name="attr_quirk_wisdom_bonus" value="0"
                        style="width: 3em; text-align: center">


                    <b>CHA</b>
                    <span class="sheet-red-color sheet-center" name="attr_charisma" value="attr_charisma"></span>
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_charisma_cyb" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_charisma_gen" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_charisma_art" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_charisma_misc" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_charisma_temp" value="0"
                        style="width: 3em; text-align: center">
                    <input class="sheet-inputfield sheet-blue-color" type="number" name="attr_charisma_points" value="0"
                        style="width: 3em; text-align: center">
                    <select class="sheet-dropdown sheet-blue-color  sheet-inputfield" type="text"
                        name="attr_charisma_progression">
                        <option style="color:#278bce;background:#000000;" selected>1,2,3...</option>
                        <option style="color:#278bce;background:#000000;">4,5,6,7</option>
                        <option style="color:#278bce;background:#000000;">3,4,5,6</option>
                        <option style="color:#278bce;background:#000000;">2,3,4,5</option>
                        <option style="color:#278bce;background:#000000;">1,2,3,4</option>
                        <option style="color:#278bce;background:#000000;">3,3,3,3</option>
                        <option style="color:#278bce;background:#000000;">5,5,5,5</option>
                    </select>

                    <!-- PSI AUGMENTATION SECTION -->
                    <span class="sheet-core-do" type="number" name="attr_psi_domination_cha_bonus" value="0"
                        ></span>
                    <span disabled></span>
                    <span class="sheet-core-ca" name="attr_psi_cause" ></span>
                    <input class="sheet-inputfield sheet-core-q" type="number" name="attr_quirk_charisma_bonus" value="0"
                        style="width: 3em; text-align: center">    
            </div>

            <!-- BLOCK B Below -->
            <div class="sheet-block-b">
                <h2>VAGINA MAN</h2>

                <button class="sheet-button-roll" 
                    type="roll" 
                    value="&{template:default} {{name=@{character_name}'s Strength Roll}} {{Strength=[[1D20+@{strength}]]}}">
                        <span>
                            STR
                        </span>
                </button>

                <span class="sheet-center">Nat Health</span>
                <input class="sheet-inputfield" 
                    name="attr_nat_current_health" 
                    type="number"
                    />
                <span class="sheet-blue-color sheet-center"> 
                    /
                </span>
                <span class="sheet-center sheet-blue-color" 
                    name="attr_nat_health">
                </span>
                <span class="sheet-center sheet-red-color">Nat Armor</span>
                <input class="sheet-inputfield sheet-red-color" 
                    name="psi_body_discipline_nat_armor_hp_current" 
                    value="0"       
                    type="number"/>
                <span class="sheet-red-color sheet-center"> 
                    /
                </span>
                <span class="sheet-center sheet-red-color" name="attr_psi_body_discipline_nat_armor_hp_max">                    
                </span>
                <span class="sheet-center sheet-green-color">Armor</span>
                <input class="sheet-inputfield sheet-green-color" 
                    name="attr_armor_current_hp" 
                    value="0"       
                    type="number"/>
                <span class="sheet-center sheet-green-color"> 
                    /
                </span>
                <span class="sheet-center sheet-green-color" name="attr_equipped_armor_health">                    
                </span>

                <button class="sheet-button-roll" 
                    type="roll" 
                    value="&{template:default} {{name=@{character_name}'s Dexterity Roll}} {{Strength=[[1D20+@{dexterity}]]}}">
                        <span>
                            DEX
                        </span>
                </button>
            </div>
        </div>

        <div class="sheet-core-health sheet-block">
            <h2>HEALTH</h2>            
            <b class="sheet-center"
                style="text-align: center; color: gold; font-size: small;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> HP </b>
            <b class="sheet-center"
                style="text-align: center; color: gold; font-size: small;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> MAX </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Cyb </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Gen </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Art </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Misc </b>

            <input class="sheet-inputfield52 sheet-green-color sheet-center" 
                style="text-align: right; font-size: medium;"
                title="Current HP"                 
                name="attr_nat_current_health"
                type="number">            
            <!-- <input class="sheet-inputfield-health" name="attr_nat_health" type="number" value="attr_nat_health" disabled> -->
            <span class="sheet-green-color sheet-center" 
                style="text-align: center; font-size: medium;" 
                title="Your Hero's Max Health."
                name="attr_nat_health">                
            </span>
            <input class="sheet-inputfield-health" name="attr_cyb_misc_health" type="number"
                value="attr_cyb_misc_health">
            <input class="sheet-inputfield-health" name="attr_gen_misc_health" type="number"
                value="attr_gen_misc_health">
            <input class="sheet-inputfield-health" name="attr_art_misc_health" type="number"
                value="attr_art_misc_health">
            <input class="sheet-inputfield-health" name="attr_misc_health" type="number" value="attr_misc_health">


            <b style="text-align: center; color: gold; font-size: medium;"
                title="Sum of attributes + Various HP buffs and additional armors, etc.">P+</b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Con </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Cyb </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Gen </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Art </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Misc </b>

            <span class="sheet-red-color" style="font-size: large;"
                title="This is your natural P+, including cybernetics, genetic engineering, artifacts, and misc. This does not include armor or shields."
                name="attr_nat_pen_plus" value="attr_nat_pen_plus"></span>
            <input class="sheet-inputfield-health" style="width: 45px;" name="attr_con_p_plus"
                value="floor(@{constitution}/10)" title="P+ from Constitution." disabled />
            <input class="sheet-inputfield-health" name="attr_cyb_misc_pen_plus" type="number"
                value="attr_cyb_misc_pen_plus" title="P+ from cybernetic bonus.">
            <input class="sheet-inputfield-health" name="attr_gen_misc_pen_plus" type="number"
                value="attr_gen_misc_pen_plus" title="P+ from genetic engineering bonus." />
            <input class="sheet-inputfield-health" name="attr_art_misc_pen_plus" type="number"
                value="attr_art_misc_pen_plus" title="P+ from Artifact bonus." />
            <input class="sheet-inputfield-health" name="attr_misc_pen_plus" type="number" value="attr_misc_pen_plus"
                title="P+ from misc bonus.">


            <b style="text-align: center; color: gold; font-size: medium;"
                title="Sum of attributes + Various HP buffs and additional armors, etc.">Regen</b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Con </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Cyb </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Gen </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Art </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Misc </b>

            <span class="sheet-red-color" 
                name="attr_nat_regen"   
                style="font-size: large;"
                title="This is your natural daily Regeneration, not including armor." 
                style="font-size: large; text-align: center;">
            </span>
            <input class="sheet-inputfield-health" 
                style="width: 45px;" 
                name="attr_con_regen" 
                value="(@{constitution})"
                title="Regeneration from Constitution." 
                disabled 
                />
            <input class="sheet-inputfield-health" 
                name="attr_cyb_misc_regen" 
                type="number" 
                value="attr_cyb_misc_regen"
                />
            <input class="sheet-inputfield-health" 
                name="attr_gen_misc_regen" 
                type="number" 
                value="attr_gen_misc_regen"
                />
            <input class="sheet-inputfield-health" 
                name="attr_art_misc_regen" 
                type="number" 
                value="attr_art_misc_regen"
            />
            <input class="sheet-inputfield-health" 
                name="attr_misc_regen" 
                type="number" 
                value="attr_misc_regen"
                />


            <b style="text-align: center; color: gold; font-size: medium;" title="Damage Reduction stat array">Dmg R</b>
            <b style="text-align: center; color: #278bce;" title="Damage Reduction from Constitution."> Con </b>
            <b style="text-align: center; color: #278bce;" title="Damage Reduction from Cybernetics."> Cyb </b>
            <b style="text-align: center; color: #278bce;" title="Damage Reduction from Genetic Engineering."> Gen </b>
            <b style="text-align: center; color: #278bce;" title="Damage Reduction from Artisan Artifacts."> Art </b>
            <b style="text-align: center; color: #278bce;" title="Damage Reduction from Misc sources."> Misc </b>

            <span class="sheet-red-color" 
                name="attr_nat_dmg_red"
                style="font-size: large;"
                title="This is your natural Damage Reduction (not including armor/shields)"
                >
            </span>
            <input class="sheet-inputfield-health" 
                name="attr_con_damage_reduction"
                style="width: 45px;" 
                value="floor(@{constitution}/5)" 
                title="Damage Reduction from Constitution." 
                disabled 
                />
            <input class="sheet-inputfield-health" 
                name="attr_cyb_misc_dmg_red" 
                type="number"
                value="attr_cyb_misc_dmg_red"
                />
            <input class="sheet-inputfield-health" 
                name="attr_gen_misc_dmg_red" 
                type="number"
                value="attr_gen_misc_dmg_red"
                />
            <input class="sheet-inputfield-health" 
                name="attr_art_misc_dmg_red" 
                type="number"
                value="attr_art_misc_dmg_red"
                />
            <input class="sheet-inputfield-health" 
                name="attr_misc_dmg_red" 
                type="number" 
                value="attr_misc_dmg_red"
                />
        </div>

        <div class="sheet-core-defense sheet-block">
            <h2>DEFENSE</h2>            
            <b style="text-align: center; color: gold; font-size: small;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Ranged </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Armor </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Shield </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Cyb </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Gen </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Art </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Misc </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Psi </b>    
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Quirk </b>            

            <span class="sheet-red-color sheet-center" 
                name="attr_ranged_defense"     
                title="Your Ranged Defense"                
                style="font-size:large;">
            </span>            
            <input class="sheet-inputfield-health" 
                name="attr_armor_ranged_defense_bonus" 
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_shield_ranged_defense_bonus" 
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_cyb_ranged_defense_bonus" 
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_gen_ranged_defense_bonus" 
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_art_ranged_defense_bonus" 
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_misc_ranged_defense_bonus" 
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_psi_deflection_ranged_defense_bonus" 
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_quirk_ranged_defense_bonus" 
                type="number"
                />            

            <b style="text-align: center;  color: gold; font-size: small;"
            title="Sum of attributes + Various HP buffs and additional armors, etc.">Melee</b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> MelDS </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Armor </b>            
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Shield* </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Cyb </b>            
                <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Style </b>            
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Art </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Psi </b>            
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Quirk </b>   
            
            
            <button class="sheet-button-roll-mds" 
                type="roll" 
                value="&{template:default} {{Name=[[1D20+@{melee_defense}]]}}" 
                title="Melee Defense roll">                
            </button>
            <span class="sheet-red-color sheet-center" 
                style="font-size: large;" 
                title="This is the regeneration that your body has, not your armor.." 
                name="attr_melee_defense">
            </span>   
            <input class="sheet-inputfield-health" 
                name="attr_armor_melee_defense_bonus" 
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_shield_melee_defense_bonus" 
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_cyb_melee_defense_bonus" 
                type="number"
                />                        
            <input class="sheet-inputfield-health" 
                name="attr_combat_style_melee_defense_bonus" 
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_art_melee_defense_bonus" 
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_psi_melee_defense_bonus" 
                type="number"
                />            
            <input class="sheet-inputfield-health" 
                name="attr_quirk_melee_defense_bonus" 
                type="number"
                />


            <b style="text-align: center; color: gold;font-size: small;"
                title="Sum of attributes + Various HP buffs and additional armors, etc.">Mental</b>            
            <b style="text-align: center; color: #278bce;font-size: x-small;"
                title="Sum of attributes + Various HP buffs and additional armors, etc.">MDS</b>            
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Cyb </b>            
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Art </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Misc </b>            
                <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Wis </b>            
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> RE </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Psi </b>
            <b style="text-align: center; color: #278bce;"
                title="Sum of attributes + Various HP buffs and additional armors, etc."> Quirk </b>

            <button class="sheet-button-roll-mds" 
                type="roll" 
                value="&{template:default} {{Name=[[1D20+@{mental_defense}]]}}">
            </button> 
            <span class="sheet-blue-color sheet-center" 
                name="attr_mental_defense" 
                style="color: red; font-size: large;">
            </span>
            <input class="sheet-inputfield-health" 
                name="attr_cyb_mental_defense_bonus" 
                type="number"
                />            
            <input class="sheet-inputfield-health" 
                name="attr_art_mental_defense_bonus" 
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_misc_mental_defense_bonus" 
                type="number"
                />
            <span class="sheet-blue-color sheet-center" 
                style="font-size: large;" 
                name="attr_wisdom"/>
            </span>
            <span class="sheet-blue-color sheet-center" 
                style="font-size: large;" 
                name="attr_raw_energy"/>
            </span>
            <span class="sheet-blue-color sheet-center" 
                style="font-size: large; color: red;" 
                name="attr_psi_mental_defense_bonus"/>
            </span>
            <input class="sheet-inputfield-health" 
                name="attr_quirk_mental_defense_bonus" 
                type="number"
                />


            <b style="text-align: center; color: gold; font-size: small;" title="Sum of your Firewall Defenses"> Firewall </b>
            <b style="text-align: center; color: gold; font-size: small;" title="Sum of your EMP Defenses"> EMP </b>            
            <b title="Upgrading the hardware of your computer system."> Con </b>
            <b title="Cybernetic integration to improve Computer Defense (both Firewall and EMP defenses)"> Cyb </b>            
            <b title="Unique Artisan Artifacts that protect against Firewall and EMP."> Art </b>
            <b title="Miscelarious bonuses towards Firewall and EMP defense."> Misc </b>                        
            <b title="If you have Deflection and the Knowledge of Programming, this is your bonus from Deflection."> Deflection </b>
            <b title="If you have Energy Communion you naturally stabalize your equipment from EMP effects."> E.Com </b>
            <b title="Quirk bonuses that improve your CDS in general."> Quirk </b>
            <span class="sheet-blue-color sheet-center" 
                name="attr_firewall"
                style="font-size: large; color: red;">
            </span>
            <span class="sheet-blue-color sheet-center" 
                name="attr_cds"
                style="font-size: large; color: red;">
            </span>
            <input class="sheet-inputfield-health" 
                name="attr_cds_con_bonus"
                value="0" 
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_cds_cyb_bonus" 
                value="0"
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_cds_art_bonus" 
                value="0"
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="attr_cds_misc_bonus" 
                value="0"
                type="number"
                />
            <input class="sheet-inputfield-health" 
                name="psi_deflection_cds_bonus"                
                value="0"
                type="number"
                title="Deflection bonus to CDS is only if you have programming AND Energy Communion."
                />
            <input class="sheet-inputfield-health" 
                name="psi_energy_communion_cds_bonus"                
                value="0"
                type="number"
                title="Energy Communion bonus to CDS is vs EMP only, not viruses."                
                />
            <input class="sheet-inputfield-health" 
                name="attr_cds_quirk_bonus" 
                value="0"
                type="number"
            />
        </div>


        <div class="sheet-skills sheet-block">
            <h2>SKILLS</h2>
            <button class="sheet-button-roll" 
                style="width: 6em;" 
                type="roll"                 
                value="&{template:default} {{name=@{character_name} Acrobatics}} {{roll=[[1d20+@{acrobatics}]]}}">
                    Acrobatics
            </button>
            <button class="sheet-button-roll" 
                style="width: 6em;" 
                type="roll"                 
                value="&{template:default} {{name=@{character_name} Athletics}} {{roll=[[1d20+@{athletics}]]}}">
                    Athletics
            </button>
            <button class="sheet-button-roll" 
                style="width: 6em;" 
                type="roll"                
                value="&{template:default} {{name=@{character_name} Awareness}} {{roll=[[1d20+@{awareness}]]}}">
                    Awareness
                </button>
            <button class="sheet-button-roll" 
                style="width: 6em;" 
                type="roll" 
                value="&{template:default} {{name=@{character_name} Barter}} {{roll=[[1d20+@{barter}]]}}">
                    Barter
                </button>
            <button class="sheet-button-roll" 
                style="width: 6em;" 
                type="roll" 
                value="&{template:default} {{name=@{character_name} Charm}} {{roll=[[1d20+@{charm}]]}}"> 
                    Charm
                </button>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Deception}} {{roll=[[1d20+@{deception}]]}}">
                                
                Deceive
            </button>>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Diplomacy}} {{roll=[[1d20+@{diplomacy}]]}}">
                Diplomacy
            </button>>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Focus}} {{roll=[[1d20+@{focus}]]}}"> Focus
            </button>>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Forgery}} {{roll=[[1d20+@{forgery}]]}}">
                Forgery
            </button>>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Gather Information}} {{roll=[[1d20+@{gather_info}]]}}">
                Gather Info
            </button>>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Insight}} {{roll=[[1d20+@{insight}]]}}">
                Insight
            </button>>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Intimidate}} {{roll=[[1d20+@{intimidate}]]}}">
                Intimidate
            </button>>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Investigate}} {{roll=[[1d20+@{investigate}]]}}">
                Investigate
            </button>>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Mechanic}} {{roll=[[1d20+@{mechanic}]]}}">
                Mechanic
            </button>>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Medic}} {{roll=[[1d20+@{medic}]]}}"> Medic
            </button>>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Pilot}} {{roll=[[1d20+@{pilot}]]}}"> Pilot
            </button>>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Stealth}} {{roll=[[1d20+@{stealth}]]}}">
                Stealth
            </button>>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Survival}} {{roll=[[1d20+@{survival}]]}}">
                Survival
            </button>>
            <button class="sheet-button-roll" 
                type="roll" 
                style="width: 6em;"
                value="&{template:default} {{name=@{character_name} Trick}} {{roll=[[1d20+@{trick}]]}}"> Trick
            </button>>
        </div>

        <div class="sheet-core-combat sheet-block">
            <!-- Equipped Weapon 1-->
            <button class="sheet-button-rollw" type="roll"
                value="&{template:default} {{name=@{character_name} Attacks with @{equipped_weapon_1}}} {{Attack Roll=[[1d20+@{equipped_weapon_1_attribute}+@{equipped_weapon_1_to_hit}+@{psi_causation}]]}} {{Damage=[[(@{equipped_weapon_1_damage}+@{equipped_weapon_1_bonus_damage})*@{equipped_weapon_1_damage_multiplier}]]}} {{P+=[[@{equipped_weapon_1_p_plus}]]}} {{RF Damage=[[((@{equipped_weapon_1_damage}+@{equipped_weapon_1_bonus_damage})*@{equipped_weapon_1_damage_multiplier})*@{equipped_weapon_1_rf}]]}} {{RoF=@{equipped_weapon_1_rof}}} {{Ammo=@{equipped_weapon_1_ammo}}} {{Tech Level=@{equipped_weapon_1_tech_level}}} {{Notes=@{equipped_weapon_1_notes_data} }}"><span
                name="attr_equipped_weapon_1"></span> </button>
            <!-- Equipped Weapon 2 -->
            <button class="sheet-button-rollw" type="roll"
                value="&{template:default} {{name=@{character_name} Attacks with @{equipped_weapon_2}}} {{Attack Roll=[[1d20+@{equipped_weapon_2_attribute}+@{equipped_weapon_2_to_hit}+@{psi_causation}]]}} {{Damage=[[(@{equipped_weapon_2_damage}+@{equipped_weapon_2_bonus_damage})*@{equipped_weapon_2_damage_multiplier}]]}} {{P+=[[@{equipped_weapon_2_p_plus}]]}} {{RF Damage=[[((@{equipped_weapon_2_damage}+@{equipped_weapon_2_bonus_damage})*@{equipped_weapon_2_damage_multiplier})*@{equipped_weapon_2_rf}]]}} {{RoF=@{equipped_weapon_2_rof}}} {{Ammo=@{equipped_weapon_2_ammo}}} {{Tech Level=@{equipped_weapon_2_tech_level}}} {{Notes=@{equipped_weapon_2_notes_data} }}">
            </button>
            <!-- Equipped Weapon 3 -->
            <button class="sheet-button-rollw" type="roll"
                value="&{template:default} {{name=@{character_name} Attacks with @{equipped_weapon_3}}} {{Attack Roll=[[1d20+@{equipped_weapon_3_attribute}+@{equipped_weapon_3_to_hit}+@{psi_causation}]]}} {{Damage=[[(@{equipped_weapon_3_damage}+@{equipped_weapon_3_bonus_damage})*@{equipped_weapon_3_damage_multiplier}]]}} {{P+=@{equipped_weapon_3_p_plus}}} {{RF Damage=[[((@{equipped_weapon_3_damage}+@{equipped_weapon_3_bonus_damage})*@{equipped_weapon_3_damage_multiplier})*@{equipped_weapon_3_rf}]]}} {{RoF=@{equipped_weapon_3_rof}}} {{Ammo=@{equipped_weapon_3_ammo}}} {{Tech Level=@{equipped_weapon_3_tech_level}}} {{Notes=@{equipped_weapon_3_notes_data} }}">
            </button>
                        <!-- Equipped Weapon 4 -->
            <button class="sheet-button-rollw" type="roll"
                value="&{template:default} {{name=@{character_name} Attacks with @{equipped_weapon_4}}} {{Attack Roll=[[1d20+@{equipped_weapon_4_attribute}+@{equipped_weapon_4_to_hit}+@{psi_causation}]]}} {{Damage=[[(@{equipped_weapon_4_damage}+@{equipped_weapon_4_bonus_damage})*@{equipped_weapon_4_damage_multiplier}]]}} {{P+=@{equipped_weapon_4_p_plus}}} {{RF Damage=[[((@{equipped_weapon_4_damage}+@{equipped_weapon_4_bonus_damage})*@{equipped_weapon_4_damage_multiplier})*@{equipped_weapon_4_rf}]]}} {{RoF=@{equipped_weapon_4_rof}}} {{Ammo=@{equipped_weapon_4_ammo}}} {{Tech Level=@{equipped_weapon_4_tech_level}}} {{Notes=@{equipped_weapon_4_notes_data}}}">
            </button>
            <button class="sheet-button-rollw" 
                type="roll"            
                value="&{template:default} {{name=@{combat_style_name} Attacks!}} {{attack=[[1D20+@{combat_style_attribute}+@{combat_style_atk_bonus_cost}]]}} {{Damage=[[floor(@{combat_style_dtype}+@{combat_style_dmg_bonus}+@{combat_style_dmg_attribute})*@{combat_style_dmg_mult}]]}} {{P+=[[@{combat_style_pen_plus}]]}} {{@{combat_style_dr_name_1}=[[10+@{combat_style_dr}]]}} {{@{combat_style_dr_name_2}=[[10+@{combat_style_dr_2}]]}}">
                    <span
                        style="font-size: small;"> 
                            Attack!
                    <span>                        
            </button>
            <button class="sheet-button-rollw" 
                type="roll"
                value="&{template:default} {{name=@{combat_style_name} Defend!}} {{Defend=[[1D20+@{combat_style_attribute}+@{combat_style_def_bonus}]]}}">
                    <span
                        style="font-size: small;"> 
                            Defend!
                    <span>
            </button>
        </div>
    </div>
</div>

<div class="sheet-equipped">
    <div class="sheet-equipped-grid">
        <div class="sheet-equipped-header">
        </div>
        <div class="sheet-equipped-armor sheet-block">
            <h2>Equipped Armor</h2>
            <span class="sheet-blue-color sheet-center" style="font-size: small;">Armor Name</span>         
            <span class="sheet-blue-color sheet-center" style="font-size: small;">Def+</span>
            <span class="sheet-blue-color sheet-center" style="font-size: small;">Armor HP</span>
            <span class="sheet-blue-color sheet-center" style="font-size: small;">P+</span>
            <span class="sheet-blue-color sheet-center" style="font-size: small;">D.R.</span>
            <span class="sheet-blue-color sheet-center" style="font-size: small;">Regen</span>            
            <span class="sheet-blue-color sheet-center" style="font-size: small;">CDS</span>
            <span class="sheet-blue-color sheet-center" style="font-size: small; color:rgb(14, 237, 14)">STR</span>
            <span class="sheet-blue-color sheet-center" style="font-size: small; color:rgb(14, 237, 14)">DEX</span>
            <span class="sheet-blue-color sheet-center" style="font-size: small; color:rgb(14, 237, 14)">CON</span>            
            <span class="sheet-blue-color sheet-center" style="font-size: small;">Move</span>


            <input class="sheet-inputfield" 
                name="attr_equipped_armor_name" 
                title="Name for your armor."
                style="width: 100px; color: red;"
                />
            <input class="sheet-inputfield52" 
                name="attr_equipped_def_bonus" 
                type="text"
                title="Your armor's Defense (ranged & melee) Bonus."
                />
            <input class="sheet-inputfield" 
                name="attr_equipped_armor_health" 
                type="text"
                title="Your armor's Hitpoint Maximum."
                style="width: 100px;" 
                />
            <input class="sheet-inputfield52" 
                name="attr_equipped_armor_p_plus" 
                type="number"
                title="Your armor's P+ Rating."
                />
            <input class="sheet-inputfield52" 
                name="attr_equipped_armor_damage_reduction" 
                type="text"
                title="Your armor's Damage Reduction."
                />
            <input class="sheet-inputfield52" 
                name="attr_equipped_armor_regeneration" 
                type="text"
                title="Your armor's Regeneration."
                />
            <input class="sheet-inputfield52" 
                name="attr_equipped_armor_cds" 
                type="text"
                title="Your armor's Computer Defense Score."
                />
            <input class="sheet-inputfield" 
                name="attr_equipped_armor_constitution" 
                type="text"
                title="Your armor's Constitution Score." 
                style="width: 60px; color:rgb(14, 237, 14);"
                />
            <input class="sheet-inputfield" 
                name="attr_equipped_armor_strength" 
                type="text"
                title="Your armor's Strength Score." 
                style="width: 60px; color:rgb(14, 237, 14);"
                />
            <input class="sheet-inputfield"
                name="attr_equipped_armor_dexterity" 
                type="text"
                title="Your armor's Dexterity Score" 
                style="width: 60px; color:rgb(14, 237, 14);"
                />
            <input class="sheet-inputfield"
                name="attr_equipped_armor_movement"
                title="Your armor's movement in 5' increments."
                type="text" 
                style="width: 60px; color: #278bce;"
                />


            <span class="sheet-blue-color sheet-center" style="font-size: small;">Notes</span>
            <span class="sheet-blue-color sheet-center" style="font-size: small;">Weight</span>            
            <span class="sheet-blue-color sheet-center" style="font-size: small;">Misc</span>
            <span class="sheet-blue-color sheet-center" style="font-size: small;">Misc2</span>            
            <span class="sheet-blue-color sheet-center" style="font-size: small;">A.TL</span>
            <span class="sheet-blue-color sheet-center" style="font-size: xx-small; color: pink; text-align: center;">Static Shields</span>
            <span class="sheet-blue-color sheet-center" style="font-size: xx-small;color: pink;">D.R. Shields</span>
            <span class="sheet-blue-color sheet-center" style="font-size: smaller;color: pink;">Deflector</span>
            <span class="sheet-blue-color sheet-center" style="font-size: smaller;color: pink;">Watts : T</span>
            <span class="sheet-blue-color sheet-center" style="font-size: smaller;color: pink; text-align: center;">Shields TL</span>
            <span disabled></span>
                       
            
            <input class="sheet-inputfield sheet-blue-color" 
                name="attr_equipped_armor_notes" 
                value="NOTES" 
                type="text"
                title="Notes about armor?" 
                style="width: 100px;" 
                />
            <input class="sheet-inputfield52" 
                name="attr_equipped_armor_weight" 
                value="0"
                type="text"
                title="Your armor's weight."
                />
            <input class="sheet-inputfield sheet-blue-color"
                name="attr_equipped_armor_misc_1" 
                value="Misc 1" 
                type="text"
                title="Misc boon." 
                style="width: 100px;"
                />
            <input class="sheet-inputfield52" 
                name="attr_equipped_armor_misc_2" 
                value="Misc 2" 
                type="text"
                title="Misc boon"
                />            
            <input class="sheet-inputfield sheet-blue-color" 
                name="attr_equipped_armor_tech_level" 
                value="0" 
                type="number"
                title="Your Armor's Tech Level." 
                style="text-align: center;" 
                />
            <input class="sheet-inputfield" 
                name="attr_equipped_armor_static_shields" 
                value="0" 
                type="text"
                title="Static Shields bonus Hitpoints." 
                style="color: pink; width: 52px;"
                />
            <input class="sheet-inputfield" 
                name="attr_equipped_armor_damage_reduction_shields" 
                value="0" 
                type="text"
                title="Shield Damage Reduction" 
                style="color: pink; width: 52px;"
                />
            <input class="sheet-inputfield" 
                name="attr_equipped_armor_deflector_defense_score" 
                value="0" 
                type="text"
                title="deflector bonus Defense Score" 
                style="color: pink; width: 52px;"
                />
            <input class="sheet-inputfield" 
                name="attr_equipped_shield_watts_turn" 
                value="0" 
                type="number"
                title="Only one shield may be worn at a time. This is your shields Tech Level."
                style="color: pink; width: 60px;" 
                />
            <input class="sheet-inputfield" 
                name="attr_equipped_armor_shields_tech_level" 
                value="0" 
                type="number"
                title="Shields Tech Level" 
                style="color: pink; width: 60px;"
                />
        </div>
        <div class="sheet-equipped-weapons sheet-block">
            <h2>Equipped Weapons</h2> <span style="color:rgb(255, 145, 0);"> NOTE: You do not build items here. This
                section has no buleprint fields. Build the items in the Inventory TAB, and then copy the stats
                over.</span>
            <div class="sheet-equipped-weapons sheet-block-2px">
                <!-- WEAPON 1 HEADERS -->
                <input class="sheet-inputfield52 sheet-blue-color" name="attr_equipped_weapon_1" value="Name"
                    type="text" style="width: 75px; color: red;">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="This is damage determined from weapon's Tech Level on the Dice Progression Chart."
                    value="Damage" style="width: 75px;" disabled>
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="Bonus damage based on Tech Level and blueprint." value="Damage+" style="width: 75px;"
                    disabled>
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="Damage Multiplier based on Tech Level and blueprint." value="Multi." multiplier>
                <input class="sheet-inputfield52 sheet-blue-color" title="Damage P+ based on Tech Level and blueprint."
                    value="P+">
                <input class="sheet-inputfield52 sheet-blue-color" title="Range based on Tech Level and blueprint."
                    value="Range">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="How many times it may be fired in a single turn, based on Tech Level and blueprint."
                    value="RoF" style="width: 75px;">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="Fires the remaining shots for the weapon. Requires the entire turn." value="RF"
                    style="width: 75px;">
                <input class="sheet-inputfield52 sheet-blue-color" title="How much ammunition the weapon may hold."
                    value="Ammo" style="width: 75px;">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="The weapon's bonus to hit, think laser sights, etc." value="+TH">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="This is the number that is divided by the blueprint numbers. The sum is the total numbers."
                    value="T.L." type="text" style="color:rgb(14, 237, 14);">
                <select class="sheet-dropdown sheet-blue-color sheet-center sheet-blue-color"
                    name="attr_equipped_weapon_1_attribute" title="Attack Roll Attribute." style="width: 75px;">
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{strength}">Strength</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{dexterity}">Dexterity</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{constitution}">Constitution</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{intelligence}">Intelligence</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{wisdom}">
                        Wisdom</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{charisma}">Charisma</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{attribute_dropdown_none}">None</option>
                </select>

                <!-- WEAPON TOTALS -->
                <!-- <input class="sheet-inputfield52" value="Stat Array" type="text" style="width: 75px;" title="This row is what is rolled from." disabled> -->
                <input class="sheet-inputfield52" name="attr_equipped_weapon_1_damage" title="Damage Dice" type="text"
                    style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_1_bonus_damage" title="Bonus Damage"
                    type="text" style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_1_damage_multiplier" title="Multiplier"
                    type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_1_p_plus" title="Weapon's P+" type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_1_range" title="Weapon's Effective Range"
                    type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_1_rof" title="Weapon's Rate of Fire"
                    type="text" style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_1_rf"
                    title="Rapid Fire fires all available ammo as a dice multiplier. If there are 8 shots left, then it is 1D8. If there are 20 shots left, then it is 1D20. The +TH is a bonus to this +1TH = 1D8+1, is the dice size."
                    type="text" style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_1_ammo" title="Ammo/Charges" type="number"
                    style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_1_to_hit"
                    title="Weapons inherent bonus to hit" type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_1_tech_level"
                    title="Tech Level for quick reference" value="1" type="text"
                    style="width: 52px; color:rgb(14, 237, 14);">
                <button class="sheet-button-rollw" type="roll"
                    value="&{template:default} {{name=@{character_name} Attacks with @{equipped_weapon_1}}} {{Attack Roll=[[1d20+@{equipped_weapon_1_attribute}+@{equipped_weapon_1_to_hit}+@{psi_causation}]]}} {{Damage=[[(@{equipped_weapon_1_damage}+@{equipped_weapon_1_bonus_damage})*@{equipped_weapon_1_damage_multiplier}]]}} {{P+=[[@{equipped_weapon_1_p_plus}]]}} {{RF Damage=[[((@{equipped_weapon_1_damage}+@{equipped_weapon_1_bonus_damage})*@{equipped_weapon_1_damage_multiplier})*@{equipped_weapon_1_rf}]]}} {{RoF=@{equipped_weapon_1_rof}}} {{Ammo=@{equipped_weapon_1_ammo}}} {{Tech Level=@{equipped_weapon_1_tech_level}}} {{Notes=@{equipped_weapon_1_notes_data} }}"></button>
                <input class="sheet-inputfield" name="attr_equipped_weapon_1_notes" value="Notes:"
                    style="column-span: 2; width: 75px; color:#278bce;" readonly="readonly">
                <input class="sheet-inputfield" name="attr_equipped_weapon_1_notes_data"
                    title="Description of weapon, any notes, etc." type="text"
                    style="column-span: 2; width: 666px; color:#278bce;">
            </div>
            <div class="sheet-equipped-weapons sheet-block-2px">
                <!-- WEAPON 2 HEADERS -->
                <input class="sheet-inputfield52 sheet-blue-color" name="attr_equipped_weapon_2" value="Name"
                    type="text" style="width: 75px; color: red;">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="This is damage determined from weapon's Tech Level on the Dice Progression Chart."
                    value="Damage" style="width: 75px;" disabled>
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="Bonus damage based on Tech Level and blueprint." value="Damage+" style="width: 75px;"
                    disabled>
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="Damage Multiplier based on Tech Level and blueprint." value="Multi." multiplier>
                <input class="sheet-inputfield52 sheet-blue-color" title="Damage P+ based on Tech Level and blueprint."
                    value="P+">
                <input class="sheet-inputfield52 sheet-blue-color" title="Range based on Tech Level and blueprint."
                    value="Range">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="How many times it may be fired in a single turn, based on Tech Level and blueprint."
                    value="RoF" style="width: 75px;">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="Fires the remaining shots for the weapon. Requires the entire turn." value="RF"
                    style="width: 75px;">
                <input class="sheet-inputfield52 sheet-blue-color" title="How much ammunition the weapon may hold."
                    value="Ammo" style="width: 75px;">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="The weapon's bonus to hit, think laser sights, etc." value="+TH">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="This is the number that is divided by the blueprint numbers. The sum is the total numbers."
                    value="T.L." type="text" style="color:rgb(14, 237, 14);">
                <select class="sheet-dropdown sheet-blue-color sheet-center sheet-blue-color"
                    name="attr_equipped_weapon_2_attribute" title="Attack Roll Attribute." style="width: 75px;">
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{strength}">Strength</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{dexterity}">Dexterity</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{constitution}">Constitution</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{intelligence}">Intelligence</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{wisdom}">
                        Wisdom</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{charisma}">Charisma</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{attribute_dropdown_none}">None</option>
                </select>

                <!-- WEAPON TOTALS -->
                <!-- <input class="sheet-inputfield52" value="Stat Array" type="text" style="width: 75px;" title="This row is what is rolled from." disabled> -->
                <input class="sheet-inputfield52" name="attr_equipped_weapon_2_damage" title="Damage Dice" type="text"
                    style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_2_bonus_damage" title="Bonus Damage"
                    type="text" style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_2_damage_multiplier" title="Multiplier"
                    type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_2_p_plus" title="Weapon's P+" type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_2_range" title="Weapon's Effective Range"
                    type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_2_rof" title="Weapon's Rate of Fire"
                    type="text" style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_2_rf"
                    title="Rapid Fire fires all available ammo as a dice multiplier. If there are 8 shots left, then it is 1D8. If there are 20 shots left, then it is 1D20. The +TH is a bonus to this +1TH = 1D8+1, is the dice size."
                    type="text" style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_2_ammo" title="Ammo/Charges" type="number"
                    style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_2_to_hit"
                    title="Weapons inherent bonus to hit" type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_2_tech_level"
                    title="Tech Level for quick reference" value="1" type="text"
                    style="width: 52px; color:rgb(14, 237, 14);">
                <button class="sheet-button-rollw" type="roll"
                    value="&{template:default} {{name=@{character_name} Attacks with @{equipped_weapon_2}}} {{Attack Roll=[[1d20+@{equipped_weapon_2_attribute}+@{equipped_weapon_2_to_hit}+@{psi_causation}]]}} {{Damage=[[(@{equipped_weapon_2_damage}+@{equipped_weapon_2_bonus_damage})*@{equipped_weapon_2_damage_multiplier}]]}} {{P+=[[@{equipped_weapon_2_p_plus}]]}} {{RF Damage=[[((@{equipped_weapon_2_damage}+@{equipped_weapon_2_bonus_damage})*@{equipped_weapon_2_damage_multiplier})*@{equipped_weapon_2_rf}]]}} {{RoF=@{equipped_weapon_2_rof}}} {{Ammo=@{equipped_weapon_2_ammo}}} {{Tech Level=@{equipped_weapon_2_tech_level}}} {{Notes=@{equipped_weapon_2_notes_data} }}"></button>

                <input class="sheet-inputfield" name="attr_equipped_weapon_2_notes" value="Notes:"
                    style="column-span: 2; width: 75px; color:#278bce;" readonly="readonly">
                <input class="sheet-inputfield" name="attr_equipped_weapon_2_notes_data"
                    title="Description of weapon, any notes, etc." type="text"
                    style="column-span: 2; width: 666px; color:#278bce;">
            </div>
            <div class="sheet-equipped-weapons sheet-block-2px">
                <!-- WEAPON 3 HEADERS -->
                <input class="sheet-inputfield52 sheet-blue-color" name="attr_equipped_weapon_3" value="Name"
                    type="text" style="width: 75px; color: red;">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="This is damage determined from weapon's Tech Level on the Dice Progression Chart."
                    value="Damage" style="width: 75px;" disabled>
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="Bonus damage based on Tech Level and blueprint." value="Damage+" style="width: 75px;"
                    disabled>
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="Damage Multiplier based on Tech Level and blueprint." value="Multi." multiplier>
                <input class="sheet-inputfield52 sheet-blue-color" title="Damage P+ based on Tech Level and blueprint."
                    value="P+">
                <input class="sheet-inputfield52 sheet-blue-color" title="Range based on Tech Level and blueprint."
                    value="Range">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="How many times it may be fired in a single turn, based on Tech Level and blueprint."
                    value="RoF" style="width: 75px;">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="Fires the remaining shots for the weapon. Requires the entire turn." value="RF"
                    style="width: 75px;">
                <input class="sheet-inputfield52 sheet-blue-color" title="How much ammunition the weapon may hold."
                    value="Ammo" style="width: 75px;">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="The weapon's bonus to hit, think laser sights, etc." value="+TH">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="This is the number that is divided by the blueprint numbers. The sum is the total numbers."
                    value="T.L." type="text" style="color:rgb(14, 237, 14);">
                <select class="sheet-dropdown sheet-blue-color sheet-center sheet-blue-color"
                    name="attr_equipped_weapon_3_attribute" title="Attack Roll Attribute." style="width: 75px;">
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{strength}">Strength</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{dexterity}">Dexterity</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{constitution}">Constitution</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{intelligence}">Intelligence</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{wisdom}">
                        Wisdom</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{charisma}">Charisma</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{attribute_dropdown_none}">None</option>
                </select>

                <!-- WEAPON TOTALS -->
                <!-- <input class="sheet-inputfield52" value="Stat Array" type="text" style="width: 75px;" title="This row is what is rolled from." disabled> -->
                <input class="sheet-inputfield52" name="attr_equipped_weapon_3_damage" title="Damage Dice" type="text"
                    style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_3_bonus_damage" title="Bonus Damage"
                    type="text" style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_3_damage_multiplier" title="Multiplier"
                    type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_3_p_plus" title="Weapon's P+" type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_3_range" title="Weapon's Effective Range"
                    type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_3_rof" title="Weapon's Rate of Fire"
                    type="text" style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_3_rf"
                    title="Rapid Fire fires all available ammo as a dice multiplier. If there are 8 shots left, then it is 1D8. If there are 20 shots left, then it is 1D20. The +TH is a bonus to this +1TH = 1D8+1, is the dice size."
                    type="text" style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_3_ammo" title="Ammo/Charges" type="number"
                    style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_3_to_hit"
                    title="Weapons inherent bonus to hit" type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_3_tech_level"
                    title="Tech Level for quick reference" value="1" type="text"
                    style="width: 52px; color:rgb(14, 237, 14);">
                <button class="sheet-button-rollw" type="roll"
                    value="&{template:default} {{name=@{character_name} Attacks with @{equipped_weapon_3}}} {{Attack Roll=[[1d20+@{equipped_weapon_3_attribute}+@{equipped_weapon_3_to_hit}+@{psi_causation}]]}} {{Damage=[[(@{equipped_weapon_3_damage}+@{equipped_weapon_3_bonus_damage})*@{equipped_weapon_3_damage_multiplier}]]}} {{P+=@{equipped_weapon_3_p_plus}}} {{RF Damage=[[((@{equipped_weapon_3_damage}+@{equipped_weapon_3_bonus_damage})*@{equipped_weapon_3_damage_multiplier})*@{equipped_weapon_3_rf}]]}} {{RoF=@{equipped_weapon_3_rof}}} {{Ammo=@{equipped_weapon_3_ammo}}} {{Tech Level=@{equipped_weapon_3_tech_level}}} {{Notes=@{equipped_weapon_3_notes_data} }}"></button>
                <input class="sheet-inputfield" name="attr_equipped_weapon_3_notes" value="Notes:"
                    style="column-span: 2; width: 75px; color:#278bce;" readonly="readonly">
                <input class="sheet-inputfield" name="attr_equipped_weapon_3_notes_data"
                    title="Description of weapon, any notes, etc." type="text"
                    style="column-span: 2; width: 666px; color:#278bce;">
            </div>
            <div class="sheet-equipped-weapons sheet-block-2px">
                <!-- WEAPON 4 HEADERS -->
                <input class="sheet-inputfield52 sheet-blue-color" name="attr_equipped_weapon_4" value="Name"
                    type="text" style="width: 75px; color: red;">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="This is damage determined from weapon's Tech Level on the Dice Progression Chart."
                    value="Damage" style="width: 75px;" disabled>
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="Bonus damage based on Tech Level and blueprint." value="Damage+" style="width: 75px;"
                    disabled>
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="Damage Multiplier based on Tech Level and blueprint." value="Multi." multiplier>
                <input class="sheet-inputfield52 sheet-blue-color" title="Damage P+ based on Tech Level and blueprint."
                    value="P+">
                <input class="sheet-inputfield52 sheet-blue-color" title="Range based on Tech Level and blueprint."
                    value="Range">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="How many times it may be fired in a single turn, based on Tech Level and blueprint."
                    value="RoF" style="width: 75px;">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="Fires the remaining shots for the weapon. Requires the entire turn." value="RF"
                    style="width: 75px;">
                <input class="sheet-inputfield52 sheet-blue-color" title="How much ammunition the weapon may hold."
                    value="Ammo" style="width: 75px;">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="The weapon's bonus to hit, think laser sights, etc." value="+TH">
                <input class="sheet-inputfield52 sheet-blue-color"
                    title="This is the number that is divided by the blueprint numbers. The sum is the total numbers."
                    value="T.L." type="text" style="color:rgb(14, 237, 14);">
                <select class="sheet-dropdown sheet-blue-color sheet-center sheet-blue-color"
                    name="attr_equipped_weapon_4_attribute" title="Attack Roll Attribute." style="width: 75px;">
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{strength}">Strength</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{dexterity}">Dexterity</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{constitution}">Constitution</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{intelligence}">Intelligence</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{wisdom}">
                        Wisdom</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{charisma}">Charisma</option>
                    <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                        value="@{attribute_dropdown_none}">None</option>
                </select>

                <!-- WEAPON TOTALS -->
                <!-- <input class="sheet-inputfield52" value="Stat Array" type="text" style="width: 75px;" title="This row is what is rolled from." disabled> -->
                <input class="sheet-inputfield52" name="attr_equipped_weapon_4_damage" title="Damage Dice" type="text"
                    style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_4_bonus_damage" title="Bonus Damage"
                    type="text" style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_4_damage_multiplier" title="Multiplier"
                    type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_4_p_plus" title="Weapon's P+" type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_4_range" title="Weapon's Effective Range"
                    type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_4_rof" title="Weapon's Rate of Fire"
                    type="text" style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_4_rf"
                    title="Rapid Fire fires all available ammo as a dice multiplier. If there are 8 shots left, then it is 1D8. If there are 20 shots left, then it is 1D20. The +TH is a bonus to this +1TH = 1D8+1, is the dice size."
                    type="text" style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_4_ammo" title="Ammo/Charges" type="number"
                    style="width: 75px;">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_4_to_hit"
                    title="Weapons inherent bonus to hit" type="text">
                <input class="sheet-inputfield52" name="attr_equipped_weapon_4_tech_level"
                    title="Tech Level for quick reference" value="1" type="text"
                    style="width: 52px; color:rgb(14, 237, 14);">
                <button class="sheet-button-rollw" type="roll"
                    value="&{template:default} {{name=@{character_name} Attacks with @{equipped_weapon_4}}} {{Attack Roll=[[1d20+@{equipped_weapon_4_attribute}+@{equipped_weapon_4_to_hit}+@{psi_causation}]]}} {{Damage=[[(@{equipped_weapon_4_damage}+@{equipped_weapon_4_bonus_damage})*@{equipped_weapon_4_damage_multiplier}]]}} {{P+=@{equipped_weapon_4_p_plus}}} {{RF Damage=[[((@{equipped_weapon_4_damage}+@{equipped_weapon_4_bonus_damage})*@{equipped_weapon_4_damage_multiplier})*@{equipped_weapon_4_rf}]]}} {{RoF=@{equipped_weapon_4_rof}}} {{Ammo=@{equipped_weapon_4_ammo}}} {{Tech Level=@{equipped_weapon_4_tech_level}}} {{Notes=@{equipped_weapon_4_notes_data}}}"></button>
                <input class="sheet-inputfield" name="attr_equipped_weapon_4_notes" value="Notes:"
                    style="column-span: 2; width: 75px; color:#278bce;" readonly="readonly">
                <input class="sheet-inputfield" name="attr_equipped_weapon_4_notes_data"
                    title="Description of weapon, any notes, etc." type="text"
                    style="column-span: 2; width: 666px; color:#278bce;">
            </div>
        </div>
    </div>
</div>

<div class="sheet-editskills sheet-blue-color">
    <div class="sheet-block sheet-blue-color sheet-edit-skills-grid-section sheet-edit-combat-style"
        style="align-items: center">
        <h2>Melee Combat Style (& blueprint)</h2>
        <b class="sheet-center">Style Name</b>
        <b class="sheet-center">Attribute</b>
        <b class="sheet-center">Level</b>
        <b class="sheet-center">Damage</b>
        <b class="sheet-center">Dmg +</b>
        <b class="sheet-center">Mult</b>
        <b class="sheet-center">P+ </b>
        <b class="sheet-center">Atk +</b>
        <b class="sheet-center">Def +</b>

        <input class="sheet-inputfield sheet-blue-color sheet-center"
            name="attr_combat_style_dr_name_1" 
            value="DR 1"
            style="width: 60px; font-size: smaller"
            title="Name your DR skills here"
            />
        <input class="sheet-inputfield sheet-blue-color sheet-center"
            name="attr_combat_style_dr_name_2"
            value="DR 2"
            style="width: 60px; font-size: smaller" 
            title="Name your DR skills here"
            />

        <input class="sheet-inputfield sheet-blue-color sheet-center" 
            name="attr_combat_style_name" 
            type="text"
            />
        <select class="sheet-dropdown sheet-blue-color sheet-center sheet-blue-color" 
            name="attr_combat_style_attribute"
            title="Attack Roll Attribute.">
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{strength}">
                Strength</option>
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{dexterity}">
                Dexterity</option>
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{constitution}">
                Constitution</option>
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{intelligence}">
                Intelligence</option>
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{wisdom}">Wisdom
            </option>
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{charisma}">
                Charisma</option>
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                value="@{attribute_dropdown_none}">None</option>
        </select>

        <!-- DISPLAY ROW -->        
        <input class="sheet-inputfield sheet-blue-color sheet-center" 
            name="attr_combat_style_points" 
            value="0"
            type="number"/> <!-- POINTS -->

        <span class="sheet-blue-color sheet-center" name="attr_combat_style_dtype"></span>
        <span class="sheet-blue-color sheet-center" name="attr_combat_style_dmg_bonus"></span>
        <span class="sheet-blue-color sheet-center" name="attr_combat_style_dmg_mult"></span>
        <span class="sheet-blue-color sheet-center" name="attr_combat_style_pen_plus"></span>
        <span class="sheet-blue-color sheet-center" name="attr_combat_style_atk_bonus"></span>
        <span class="sheet-blue-color sheet-center" name="attr_combat_style_def_bonus"></span>
        <span class="sheet-blue-color sheet-center" name="attr_combat_style_dr"></span>
        <span class="sheet-blue-color sheet-center" name="attr_combat_style_dr_2"></span>
        

        


        <!-- INPUT CALCULATIONS ROW --- HIDDEN -->


        <!-- BLUEPRINT -->
        <b class="sheet-center" style="font-size: smaller;">Dmg Attribute</b>
        <select class="sheet-dropdown sheet-blue-color sheet-center sheet-blue-color"
            name="attr_combat_style_dmg_attribute" title="Damage attribute.">
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{strength}">
                Strength</option>
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{dexterity}">
                Dexterity</option>
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{constitution}">
                Constitution</option>
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{intelligence}">
                Intelligence</option>
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{wisdom}">Wisdom
            </option>
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{charisma}">
                Charisma</option>
            <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                value="@{attribute_dropdown_none}">None</option>
        </select>

        <span class="sheet-blue-color sheet-center" style="font-size: smaller;">Cost::Bonus</span>
        <input class="sheet-inputfield sheet-blue-color sheet-center" 
            name="attr_combat_style_damage_dice_cost" 
            value="4">
        <input class="sheet-inputfield sheet-blue-color sheet-center" 
            name="attr_combat_style_dmg_bonus_cost" 
            value=""
            type="number">
        <input class="sheet-inputfield sheet-blue-color sheet-center" 
            name="attr_combat_style_dmg_mult_cost" 
            value=""
            type="number">
        <input class="sheet-inputfield sheet-blue-color sheet-center" 
            name="attr_combat_style_pen_plus_cost" 
            value=""
            type="number">
        <input class="sheet-inputfield sheet-blue-color sheet-center" 
            name="attr_combat_style_atk_bonus_cost" 
            value=""
            type="number">
        <input class="sheet-inputfield sheet-blue-color sheet-center" 
            name="attr_combat_style_def_bonus_cost" 
            value=""
            type="number">
        <input class="sheet-inputfield sheet-blue-color sheet-center" 
            name="attr_combat_style_dr_1_cost" 
            value=""
            type="number">
        <input class="sheet-inputfield sheet-blue-color sheet-center" 
            name="attr_combat_style_dr_2_cost" 
            value=""
            type="number">
        <button class="sheet-button-roll" 
            type="roll"            
            value="&{template:default} {{name=@{combat_style_name} Attacks!}} {{attack=[[1D20+@{combat_style_attribute}+@{combat_style_atk_bonus_cost}]]}} {{Damage=[[floor(@{combat_style_dtype}+@{combat_style_dmg_bonus}+@{combat_style_dmg_attribute})*@{combat_style_dmg_mult}]]}} {{P+=[[@{combat_style_pen_plus}]]}} {{@{combat_style_dr_name_1}=[[10+@{combat_style_dr}]]}} {{@{combat_style_dr_name_2}=[[10+@{combat_style_dr_2}]]}}">
                <span
                    style="font-size: small;"> 
                        Attack!
                <span>                        
        </button>
        <button class="sheet-button-roll" 
            type="roll"
            value="&{template:default} {{name=@{combat_style_name} Defend!}} {{Defend=[[1D20+@{combat_style_attribute}+@{combat_style_def_bonus}]]}}">
                <span
                    style="font-size: small;"> 
                        Defend!
                <span>
        </button>

    </div>
    <!-- <div style="align-items:center; padding-top:25px;">   -->
    <div class="sheet-blue-color sheet-edit-skills-grid-section sheet-edit-skills sheet-center">
        <!-- <span class="sheet-center sheet-inputfield sheet-gold-color" name="repeating_skillrollbutton" value="Roll Button" style="width: 80px;" disabled> -->
        <b disabled style="color:#000005"> - </b>
        <b class="sheet-gold-color" style="padding-left:15px; padding-right: 22px;">Roll</b>
        <b class="sheet-center sheet-gold-color" style="padding-right: 12px;">Skill Name</b>
        <b class="sheet-center sheet-gold-color" style="padding-right: 8px;">Attribute</b>
        <b class="sheet-center sheet-gold-color" style="padding-right: 25px;">Cyb</b>
        <b class="sheet-center sheet-gold-color" style="padding-right: 30px;">Gen</b>
        <b class="sheet-center sheet-gold-color" style="padding-right: 30px;">Psionic</b>
        <b class="sheet-center sheet-gold-color" style="padding-right: 30px;">Psi+</b>
        <b class="sheet-center sheet-gold-color" style="padding-right: 25px;">Misc</b>
        <b class="sheet-center sheet-gold-color" style="padding-right: 32px;">Art</b>
        <b class="sheet-center sheet-gold-color" style="padding-right: 5px;">Progression</b>
        <b class="sheet-center sheet-gold-color" style="padding-right: 10px;">Points</b>
        <b class="sheet-center sheet-gold-color">Level</b>
    </div>
    <div class="sheet-edit-skills-grid-section sheet-edit-skills">
        <fieldset class="repeating_skills">
            <button class="sheet-button-roll" type="roll"
                value="&{template:default} {{name=@{skillname} }} {{roll=[[1d20+@{skillattribute}+@{skillvibonus}+@{skillgeneticbonus}+@{skillpsimiscbonus}+@{skillmiscbonus}+@{skillartifactbonus}+@{skillpoints}]]}}"
                style="height:28px;"></button>
            <input class="sheet-inputfield sheet-blue-color" type="text" name="attr_skillname" value="">

            <select class="sheet-dropdown sheet-inputfield-health sheet-blue-color" name="attr_skillattribute"
                style="width:60px;">
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{strength}">
                    STR</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{dexterity}">
                    DEX</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{constitution}">CON</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{intelligence}">INT</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{wisdom}">WIS
                </option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" value="@{charisma}">
                    CHA</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{attribute_dropdown_none}">none</option>
            </select>

            <input class="sheet-inputfield sheet-dropdown sheet-blue-color" type="number" name="attr_skillvibonus"
                value="0" style="width:52px;">
            <input class="sheet-inputfield sheet-dropdown sheet-blue-color" type="number" name="attr_skillgeneticbonus"
                value="0" style="width:52px;">

            <select class="sheet-inputfield sheet-dropdown sheet-blue-color" name="attr_skillpsi">
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{psi_body_discipline_active_level}">Body Disc</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{psi_causation}">Causation</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{psi_clairvoyance_active_level}">Clairvoyance</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{psi_deflection_active_level}">deflection</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{psi_domination_active_level}">Domination</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{psi_energy_communion_active_level}">Energy</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{psi_molecular_alteration_active_level}">Molecular</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{psi_pyrokinesis_active_level}">Pyro</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{psi_subatomic_alteration_active_level}">Subatomic</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{psi_telekinesis_active_level}">Telekinesis</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;"
                    value="@{psi_anti_psionics_active_level}">Anti Psi</option>
                <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" 
                    value="None" selected>None
                </option>
            </select>
            <input class="sheet-inputfield sheet-dropdown sheet-blue-color" type="number" name="attr_skillpsimiscbonus"
            value="0" style="width:52px;">
            <input class="sheet-inputfield sheet-dropdown sheet-blue-color" type="number" name="attr_skillmiscbonus"
                value="0" style="width:52px;">
            <input class="sheet-inputfield sheet-dropdown sheet-blue-color" type="number" name="attr_skillartifactbonus"
                value="0" style="width:52px;">

            <select class="skill-progression sheet-dorpdown sheet-blue-color sheet-inputfield" type="text"
                name="attr_skillprogression" style="width: 80px;">
                <option style="color:#278bce;background:#000000;" selected>1,2,3...</option>
                <option style="color:#278bce;background:#000000;">4,5,6,7</option>
                <option style="color:#278bce;background:#000000;">3,4,5,6</option>
                <option style="color:#278bce;background:#000000;">2,3,4,5</option>
                <option style="color:#278bce;background:#000000;">1,2,3,4</option>
                <option style="color:#278bce;background:#000000;">3,3,3,3</option>
                <option style="color:#278bce;background:#000000;">5,5,5,5</option>
            </select>
            <input class="sheet-inputfield sheet-dropdown sheet-blue-color" type="number" name="attr_skillpoints"
                value="0" style="width:52px;">
            <input class="sheet-center sheet-inputfield sheet-blue-color" name="repeating_skillnamelevel" value="Level"
                style="width: 52px;">

        </fieldset>
    </div>
</div>
</div>
</div>

<div class="sheet-inventory">
    <div>
        <!-- MONEY AT TOP -->
        <!-- Galactic Credits -->
        <input class="sheet-inputfield sheet-purple-color" type="hidden" name="attr_galactic_credits_header"
            value="Galactic Credits">
        <span class="sheet-purple-color" name="attr_galactic_credits_header" value="attr_galactic_credits_header"
            style="padding-left:7em;"></span>
        <input class="sheet-inputfield sheet-purple-color" style="width:10em;" type="number" title="Galactic Credits"
            name="attr_galactic_credits" value="0">

        <!-- Gold Credits -->
        <input class="sheet-inputfield sheet-gold-color" type="hidden" name="attr_gold_credits_header"
            value="Gold Credits">
        <span class="sheet-gold-color" name="attr_gold_credits_header" value="attr_gold_credits_header"></span>
        <input class="sheet-inputfield sheet-gold-color" style="width:10em;" type="number" title="Gold Credits"
            name="attr_galactic_credits" value="0">
        <!-- Iron Credits -->
        <input class="sheet-inputfield sheet-silver-color" type="hidden" name="attr_iron_credits_header"
            value="Iron Credits">
        <span class="sheet-silver-color" name="attr_iron_credits_header" value="attr_iron_credits_header"></span>
        <input class="sheet-inputfield sheet-silver-color" style="width:10em;" type="number" title="Iron Credits"
            name="attr_iron_credits" value="0">
    </div>
    <div class="sheet-edit-inventory-grid-section">
        <!-- Hidden inputs to display the sections -->
        <input type="hidden" name="attr_armor-display" class="sheet-display_toggle" value="on">
        <input type="hidden" name="attr_melee-display" class="sheet-display_toggle" value="on">
        <input type="hidden" name="attr_ranged-display" class="sheet-display_toggle" value="on">
        <input type="hidden" name="attr_explosives-display" class="sheet-display_toggle" value="on">
        <input type="hidden" name="attr_items-display" class="sheet-display_toggle" value="on">
        <input type="hidden" name="attr_artifacts-display" class="sheet-display_toggle" value="on">
        <input type="hidden" name="attr_contacts-display" class="sheet-display_toggle" value="on">

        <div class="sheet-inventory-armor sheet-block">
            <!-- <span class="sheet-center sheet-gold-color" style="padding-left:385px;">ARMOR</span> -->
            <h2>Armor</h2>
            <!-- HEADERS -->
            <span>Name</span>
            <span>T.L.</span>
            <span>cau</span>
            <span>Armor HP</span>
            <span>Mult</span>
            <span>P+</span>
            <span>D.R.</span>
            <span>Regen</span>
            <span>CDS</span>
            <span>STR</span>
            <span>DEX</span>
            <span>CON</span>
            <span>Move</span>
            <span>Misc</span>

            <!-- DISPLAY ROW -->
            <input class="sheet-inputfield sheet-red-color sheet-center" name=attr_armor_name" value="Armor Name"
                style="width: 75px;" title="A name for your armor." />
            <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_armortechlevel" type="number"
                style="width: 45px;" min="1" max="128" title="The sum of all property Tech Levels." />
            <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_def_armor" type="text"
                title="Armor's Defense Score bonus." style="width: 45px;" readonly="readonly" />
            <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_armor_health_max" type="text"
                style="width: 75px;" title="Armor Max HP">
            <input class="sheet-inputfield sheet-blue-color sheet-center" name=attr_mult_armor_health" type="text"
                title="Armor Multiplier when rolling HP Dice." style="width: 45px;" readonly="readonly" />
            <input class="sheet-inputfield sheet-blue-color sheet-center" name=attr_armor_p_plus"
                value="floor(@{armortechlevel}/@{armor_p_plus_cost})" title="Armor Penetration Plus"
                style="width: 45px;" disabled />
            <input class="sheet-inputfield sheet-blue-color sheet-center" name=attr_armor_damage_reduction"
                value="floor(@{armortechlevel}/@{armor_shrug_cost})" title="Armor Damage Reduction" style="width: 45px;"
                readonly />
            <input class="sheet-inputfield sheet-blue-color sheet-center" name=attr_armor_regen"
                value="floor(@{armortechlevel}/@{armor_regen_cost})" title="Armor Regeneration per turn"
                style="width: 45px;" disabled />
            <input class="sheet-inputfield sheet-blue-color sheet-center" name=attr_armor_cds"
                value="floor(@{armortechlevel}/@{armor_cds_cost})" title="Armor Computer causation Score"
                style="width: 45px;" disabled />
            <input class="sheet-inputfield sheet-blue-color sheet-center" name=attr_armor_strength"
                value="floor(@{armortechlevel}/@{armor_strength_cost})" title="Armor Strength" style="width: 45px;"
                disabled />
            <input class="sheet-inputfield sheet-blue-color sheet-center" name=attr_armor_dexterity"
                value="floor(@{armortechlevel}/@{armor_dexterity_cost})" title="Armor Dexterity" style="width: 45px;"
                disabled />
            <input class="sheet-inputfield sheet-blue-color sheet-center" name=attr_armor_constitution"
                value="floor(@{armortechlevel}/@{armor_constitution_cost})" title="Armor Constitution"
                style="width: 45px;" disabled />
            <input class="sheet-inputfield sheet-blue-color sheet-center" name=attr_armor_movement"
                value="floor(3+(@{armortechlevel}/@{armor_movement_cost}/5))"
                title="Armor Movement measured in squares, or 5 foot units." style="width: 45px;" disabled />
            <input class="sheet-inputfield sheet-blue-color sheet-center" name=attr_armor_misc" type="text" value=""
                title="Misc" style="width: 100px;" disabled />

            <!-- COST PER BONUS ROW -->
            <span class="sheet-grey-color sheet-center sub-heading" style="font-size: larger;"
                title="defaults in place">Blueprint</span>
            <label disabled></label>
            <input class="sheet-inputfield sheet-silver-color sheet-center" type="number" name="attr_armor_cau_cost"
                value="8" title="Armor causation Score cost in tech levels" />
            <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                name="attr_armor_health_max_cost" value="4" style="width: 75px;"
                title="Armor Dice cost in tech levels" />
            <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                name="attr_armor_health_mult_cost" value="16" title="Armor Penetration Plus cost in Tech Levels" />
            <input class="sheet-inputfield sheet-silver-color sheet-center" type="number" name="attr_armor_p_plus_cost"
                value="4" title="Armor Penetration Plus cost in Tech Levels" />
            <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                name="attr_armor_damage_reduction_cost" value="2" title="Armor Damage Reduction cost in Tech Levels" />
            <input class="sheet-inputfield sheet-silver-color sheet-center" type="number" name="attr_armor_regen_cost"
                value="12" title="Armor Regeneration per turn cost in Tech Levels" />
            <input class="sheet-inputfield sheet-silver-color sheet-center" type="number" name="attr_armor_cds_cost"
                value="2" title="Armor Computer causation Score cost in Tech Levels" />
            <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                name="attr_armor_strength_cost" value="2" title="Armor Strength cost in Tech Levels" />
            <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                name="attr_armor_dexterity_cost" value="6" title="Armor Dexterity cost in Tech Levels" />
            <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                name="attr_armor_constitution_cost" value="4" title="Armor Constitution cost in Tech Levels" />
            <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                name="attr_armor_movement_cost" value="4" title="Armor Movement cost in Tech Levels" />
            <input class="sheet-inputfield sheet-silver-color sheet-center" type="number" name="attr_armor_misc_cost"
                value="1" title="Misc" style="width: 100px;" />

        </div>

        <div class="sheet-edit-inventory-weapon-buttons">
            <input type="hidden" name="attr_armor-display">
            <label>
                <h4>Armor</h4>
                <input type="checkbox" name="attr_armor-display" title="Display Armor" />
            </label>
            <input type="hidden" name="attr_melee-display">
            <label>
                <h4>Melee</h4>
                <input type="checkbox" name="attr_melee-display" title="Display Melee" />
            </label>
            <input type="hidden" name="attr_ranged-display">
            <label>
                <h4>Ranged</h4>
                <input type="checkbox" name="attr_ranged-display" title="Display Ranged" />
            </label>
            <input type="hidden" name="attr_explosives-display">
            <label>
                <h4>Explosives</h4>
                <input type="checkbox" name="attr_explosives-display" title="Display Explosives" />
            </label>
            <input type="hidden" name="attr_items-display">
            <label>
                <h4>Items</h4>
                <input type="checkbox" name="attr_items-display" title="Display Items" />
            </label>
            <input type="hidden" name="attr_artifacts-display">
            <label>
                <h4>Artifacts</h4>
                <input type="checkbox" name="attr_artifacts-display" title="Display Artifacts" />
            </label>
            <input type="hidden" name="attr_contacts-display">
            <label>
                <h4>Contacts</h4>
                <input type="checkbox" name="attr_contacts-display" title="Display Contacts" />
            </label>
        </div>
        <!-- Melee Block -->
        <div class="sheet-inventory-melee sheet-block">
            <h2>Melee Weapons</h2>
            <div class="sheet-edit-melee-entries" style="padding: 0 5px;">
                <h3>Name</h3>
                <h3>T.L.</h3>
                <h3>Attack+</h3>
                <h3>D. Dice</h3>
                <h3>Damage+</h3>
                <h3>Dmg X</h3>
                <h3>P+</h3>
                <h3>Ammo</h3>
                <h3>Type</h3>
                <h3>Effect 1</h3>
                <h3>Effect 2</h3>
            </div>
            <!-- <fieldset class="repeating_inventory" style="display: grid; grid-template-columns: 125px 400px 52px 75px 75px 52px;"> -->
            <fieldset class="repeating_melee" display="grid" style="padding-top: 50px;">

                <div class="sheet-edit-melee-entries sheet-block-2px" style="padding-top:5px;">
                    <!-- DISPLAY ROW -->
                    <input class="sheet-inputfield sheet-red-color sheet-center" name="attr_meleename" type="text"
                        value="Name" title="A name for your melee." style="width:100px" />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_meleetechlevel"
                        type="number" value="1" title="The sum of all melee's property Tech Levels."
                        style="width:60px" />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_meleeattackbonus"
                        value="[[floor(@{meleetechlevel}/@{meleeattackbonuscost})]]" title="melee's attack bonus."
                        style="width:40px" disabled />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_meleedamage" type="text"
                        title="Damage dice." readonly="readonly" style="width:75px" />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_meleedamagebonus"
                        value="[[floor(@{meleetechlevel}/@{meleedamagebonuscost})]]" title="melee's bonus damage"
                        style="width:75px" disabled />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_meleedamagemult"
                        value="[[floor(@{meleetechlevel}/@{meleedamagemultcost}+1)]]" title="melee's damage multiplier"
                        style="width:45px" disabled />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_meleepplus"
                        value="[[floor(@{meleetechlevel}/@{meleeppluscost})]]" title="melee's P+" style="width:45px"
                        disabled />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_meleeammo"
                        value="[[floor(@{meleetechlevel}/@{meleeammocost})]]" title="melee's Maximum Ammo"
                        style="width:40px" disabled />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_meleetype"
                        title="melee Type of Damage (projectile, energy, blade, etc.)" type="text" style="width:60px" />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_meleeeffect1"
                        title="melee Effect such as Stun DR" type="text" style="width:60px" />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_meleeeffect2"
                        title="melee Effect such as Stun DR" type="text" style="width:60px" />

                    <!-- BLUEPRINT ROW-->
                    <!-- <input class="sheet-inputfield sheet-blue-color sheet-center" value="Blueprint" style="width: 75px;" title="defaults in place." readonly="readonly"/>   -->
                    <input class="sheet-inputfield-blank" readonly="readonly" style="width:100px">
                    <input class="sheet-inputfield-blank" readonly="readonly" style="width:60px" />
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_meleeattackbonuscost" value="6" title="melee attack bonus cost in Tech Levels"
                        style="width:40px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_meleedamagecost" value="4" title="melee Damage cost in Tech Levels."
                        style="width:75px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_meleedamagebonuscost" value="3" title="melee Bonus Damage cost in Tech Levels."
                        style="width:75px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_meleedamagemultcost" value="16" title="melee Multiplier cost in Tech Levels"
                        style="width:45px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_meleeppluscost" value="16" title="melee P+ cost in Tech Levels" style="width:45px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_meleeammocost" value="2" title="melee Ammo cost in Tech Levels" style="width:40px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="text"
                        name="attr_meleetypecost" value="?" style="width: 60px;" style="width:60px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_meleeeffect1cost" value="0" title="Effects that impose a DR" style="width:60px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_meleeeffect2cost" value="0" title="Effects that impose a DR" style="width:60px">
                </div>
            </fieldset>
        </div>

        <div class="sheet-inventory-ranged sheet-block">
            <input type="hidden" class="sheet-tabstoggle2" name="attr_inventoryTab" value="">
            <h2>Ranged Weapons</h2>
            <div class="sheet-edit-weapon-entries" style="padding: 0 5px;">
                <h3>Name</h3>
                <h3>T.L.</h3>
                <h3>Attack+</h3>
                <h3>D. Dice</h3>
                <h3>Damage+</h3>
                <h3>Dmg X</h3>
                <h3>R.F.</h3>
                <h3>P+</h3>
                <h3>Range</h3>
                <h3>ROF</h3>
                <h3>Ammo</h3>
                <h3>Type</h3>
                <h3>Effect 1</h3>
                <h3>Effect 2</h3>
            </div>
            <!-- <fieldset class="repeating_inventory" style="display: grid; grid-template-columns: 125px 400px 52px 75px 75px 52px;"> -->
            <fieldset class="repeating_weapons" display="grid" style="padding-top: 50px;">

                <div class="sheet-edit-weapon-entries sheet-block-2px" style="padding-top:5px;">
                    <!-- DISPLAY ROW -->
                    <input class="sheet-inputfield sheet-red-color sheet-center" name="attr_weaponname" type="text"
                        title="A name for your weapon." style="width:100px">
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weapontechlevel"
                        type="number" title="The sum of all weapon's property Tech Levels." style="width:60px" />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weaponattackbonus"
                        value="[[floor(@{weapontechlevel}/@{weaponattackbonuscost})]]" title="Weapon's attack bonus."
                        style="width:40px" disabled />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weapondamage" type="text"
                        title="Damage dice. font-size: smaller;" readonly="readonly" style="width:75px" />
                    <!-- <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weapon-damage" value="DICE" title="Weapon's damage dice." style="width: 75px;" disabled/> -->
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weapondamagebonus"
                        value="[[floor(@{weapontechlevel}/@{weapondamagebonuscost})]]" title="Weapon's bonus damage"
                        style="width:75px" disabled />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weapondamagemult"
                        value="[[floor(@{weapontechlevel}/@{weapondamagemultcost}+1)]]"
                        title="Weapon's damage multiplier" style="width:45px" disabled />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weaponrf" value="DICE"
                        title="Rapid Fire Dice" readonly="readonly" style="width:45px" />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weaponpplus"
                        value="[[floor(@{weapontechlevel}/@{weaponppluscost})]]" title="Weapon's P+" style="width:40px"
                        disabled />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weaponrange"
                        value="[[floor(@{weapontechlevel}/@{weaponrangecost})]]" title="Weapon's Range"
                        style="width:45px" disabled />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weaponrateoffire"
                        value="[[floor(@{weapontechlevel}/@{weaponrateoffirecost})]]"
                        title="Weapon's Rate of Fire (not Rapid Fire)" style="width:45px" disabled />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weaponammo"
                        value="[[floor(@{weapontechlevel}/@{weaponammocost})]]" title="Weapon's Maximum Ammo'"
                        style="width:45px" disabled />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weapontype"
                        title="Weapon Type of Damage (projectile, energy, blade, etc.)" type="text"
                        style="width:60px" />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weaponeffect1"
                        title="Weapon Effect such as Stun DR" type="text" style="width:60px" />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_weaponeffect2"
                        title="Weapon Effect such as Stun DR" type="text" style="width:60px" />

                    <!-- BLUEPRINT ROW-->
                    <!-- <input class="sheet-inputfield sheet-blue-color sheet-center" value="Blueprint" style="width: 75px;" title="defaults in place." readonly="readonly"/>   -->
                    <input class="sheet-inputfield-blank" readonly="readonly" style="width:100px" />
                    <input class="sheet-inputfield-blank" readonly="readonly" style="width:60px" />
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_weaponattackbonuscost" value="6" title="Weapon attack bonus cost in Tech Levels"
                        style="width:40px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_weapondamagecost" value="4" title="Weapon Damage cost in Tech Levels."
                        style="width:75px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_weapondamagebonuscost" value="3" title="Weapon Bonus Damage cost in Tech Levels."
                        style="width:75px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_weapondamagemultcost" value="16" title="Weapon Multiplier cost in Tech Levels"
                        style="width:45px" />
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_weaponrfcost" value="32" title="Weapon Rapid Fire cost in Tech Levels"
                        style="width:45px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_weaponppluscost" value="16" title="Weapon P+ cost in Tech Levels" style="width:40px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_weaponrangecost" value="3" title="Weapon Range cost in Tech Levels"
                        style="width:45px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_weaponrateoffirecost" value="6" title="Weapon Rate of Fire cost in Tech Levels"
                        style="width:45px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_weaponammocost" value="2" title="Weapon Ammo cost in Tech Levels" style="width:45px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="text"
                        name="attr_weapontypecost" value="?" title="The cost in levels per bonus, if any"
                        style="width:60px">
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_weaponeffect1cost" value="0" title="Effects that impose a DR" style="width:60px" />
                    <input class="sheet-inputfield sheet-silver-color sheet-center" type="number"
                        name="attr_weaponeffect2cost" value="0" title="Effects that impose a DR" style="width:60px">
                </div>
            </fieldset>

        </div>

        <!-- Explosives Block -->
        <div class="sheet-inventory-explosives sheet-block">
            <h2>Explosives</h2>
            <div class="sheet-edit-explosives-entries" style="padding: 0 5px;">
                <h3>Name</h3>
                <h3>T.L.</h3>
                <h3>Type</h3>
                <h3>Damage</h3>
                <h3>Dmg+</h3>
                <h3>Multiplier</h3>
                <h3>P+</h3>
                <h3>Radius</h3>
                <h3>Effect</h3>
                <h3>DR</h3>
                <h3>Count</h3>
            </div>
            <fieldset class="repeating_explosives" display="grid" style="padding-top: 50px;">
                <div class="sheet-edit-explosives-entries sheet-block-2px" style="padding-top:5px;">
                    <!-- DISPLAY ROW -->
                    <input class="sheet-inputfield sheet-red-color sheet-center" name="attr_explosivename" type="text"
                        title="A name for your explosive." style="font-size:x-small;" />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosivetechlevel"
                        type="text" title="Tech level of explosive.">
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosivetype"
                        title="Type of explosive: Belt, Broche, Necklace, etc.">
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_explosivedamage"
                        type="text" title="Damage dice. font-size: smaller;" readonly="readonly" style="width:100px" />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosivebonusdamage"
                        value="[[floor(@{explosivetechlevel}/@{explosivebonusdamagecost})]]"
                        title="Explosives Bonus Damage" disabled />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosivemultiplier"
                        value="[[floor(@{explosivetechlevel}/@{explosivemultipliercost})]]"
                        title="Explosive's damage multiplier" disabled />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosivepplus"
                        value="[[floor(@{explosivetechlevel}/@{explosiveppluscost})]]" title="Explosive's P+"
                        disabled />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosiveradius"
                        value="[[floor(@{explosivetechlevel}/@{explosiveradiuscost})]]"
                        title="Explosives range in radius, feet." disabled />
                    <input class="sheet-inputfield sheet-blue-color sheet-center" name="attr_explosiveeffect" value=""
                        title="Misc effects that impose a DR to save." style="width: 100px;">
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosivedr"
                        value="[[floor((@{explosivetechlevel}/@{explosivedrcost})+10)]]" title="Explosive effect DR."
                        disabled />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosivescount"
                        type="number">

                    <!-- BLUEPRINT ROW -->
                    <button class="sheet-button-roll" type="roll"
                        value="&{template:default} {{name=@{character_name}: @{explosivename}}} {{kind=@{explosivetype}}} {{Attack Roll=[[1d20+@{dexterity}]]}} {{Damage=[[(@{explosivedamage}+@{explosivebonusdamage})*@{explosivemultiplier}]]}} {{Multiplier=@{explosivemultiplier}}} {{P+=@{explosivepplus}}} {{Boom Range=@{explosiveradius}}} {{Saving Throw=@{explosivedr}}} {{Tech Level=@{explosivetechlevel}}} {{Effect=@{explosiveeffect}}}"
                        style="height:28px; width: 75px;"></button>
                    <input class="sheet-inputfield-blank sheet-red-color sheet-center" disabled />
                    <!-- <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosivetechlevel" type="text" title="Tech level of explosive."> -->
                    <input class="sheet-inputfield-blank sheet-red-color sheet-center" disabled />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosivedamagecost"
                        type="text" value="8" title="Cost per dice progression" style="width: 100px;">
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosivebonusdamagecost"
                        type="text" value="4" title="Cost per bonus damage">
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosivemultipliercost"
                        type="text" value="12" title="Cost per damage multiplier">
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosiveppluscost"
                        type="text" value="16" title="Cost per P+">
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosiveradiuscost"
                        type="text" value="12" title="Cost per radius increase.">
                    <input class="sheet-inputfield-blank sheet-red-color sheet-center" disabled />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_explosivedrcost"
                        type="text" value="16"
                        title="explosive grants bonus to your imposed DR's you imposse on others.">
                    <input class="sheet-inputfield-blank sheet-red-color sheet-center" disabled />
                </div>
            </fieldset>
        </div>

        <div class="sheet-edit-inventory-entries sheet-block">
            <span class="sheet-center sheet-gold-color" style="padding-left:390px;">ITEMS</span>
            <div class="sheet-center">
                <span class="sheet-center sheet-gold-color" style="padding-left:45px;" name="repeating_itemnameheader"
                    value="repeating_itemnameheader">NAME</span>
                <span class="sheet-center sheet-gold-color" style="padding-left:190px;"
                    name="repeating_itemnamedescription" value="repeating_itemnamedescription">DESCRIPTION</span>
                <span class="sheet-center sheet-gold-color" style="padding-left:142px;"
                    name="repeating_itemnamequantity" value="repeating_itemnamequantity"> COUNT</span>
                <span class="sheet-center sheet-gold-color" style="padding-left:15px;" name="repeating_itemnameweight"
                    value="repeating_itemnameweight"> WEIGHT</span>
                <span class="sheet-center sheet-gold-color" style="padding-left:32px;" name="repeating_itemnamesize"
                    value="repeating_itemnamesize"> SIZE</span>
                <span class="sheet-center sheet-gold-color" style="padding-left:32px;" name="repeating_itemnamesize"
                    value="repeating_itemnamesize"> CON</span>
                <span class="sheet-center sheet-gold-color" style="padding-left:40px;"
                    name="repeating_itemnametechlevel" value="repeating_itemnametechlevel">TL</span>
            </div>
            <div>
                <!-- <fieldset class="repeating_inventory" style="display: grid; grid-template-columns: 125px 400px 52px 75px 75px 52px;"> -->
                <fieldset class="sheet-block repeating_inventory">
                    <input type="text" class="sheet-center sheet-inputfield sheet-red-color" name="attr_itemname"
                        value="Name" style="width: 125px;">
                    <input type="text" class="sheet-center sheet-inputfield sheet-blue-color"
                        name="attr_itemnamedescription" value="Description" style="width: 375px;">
                    <input type="number" class="sheet-center sheet-inputfield sheet-blue-color"
                        name="attr_itemnamequantity" style="width: 52px;">
                    <input type="number" class="sheet-center sheet-inputfield sheet-blue-color"
                        name="attr_itemnameweight" style="width: 75px;">
                    <input type="text" class="sheet-center sheet-inputfield sheet-blue-color" name="attr_itemnamesize"
                        style="width: 75px;">
                        <input type="text" class="sheet-center sheet-inputfield sheet-blue-color" name="attr_itemnamecon"
                        style="width: 52px;">
                    <input type="number" class="sheet-center sheet-inputfield sheet-blue-color"
                        name="attr_itemnametechlevel" style="width: 52px;">
                </fieldset>
            </div>
        </div>

        <!-- Artifact Block -->
        <div class="sheet-edit-inventory-artifacts sheet-block">
            <h2>Artifact Block</h2>
            <div class="sheet-edit-artifact-entries" style="padding: 0 5px;">
                <h3>Name</h3>
                <h3>T.L.</h3>
                <h3>Type</h3>
                <h3>Attribute</h3>
                <h3>Psionic</h3>
                <h3>Skill</h3>
                <h3>LE</h3>
                <h3>RE</h3>
                <h3>Sphere</h3>
                <h3>DR+</h3>
                <h3>Effect</h3>
                <h3>LE Cost</h3>
                <h3>RE Cost</h3>
            </div>
            <fieldset class="repeating_artifacts" display="grid" style="padding-top: 50px;">

                <div class="sheet-edit-artifact-entries sheet-block-2px" 
                style="padding-top:5px;"/>
                    <!-- DISPLAY ROW -->
                    <input class="sheet-inputfield sheet-red-color sheet-center" 
                    name="attr_artifactname" 
                    type="text"
                        value="Art Name" 
                        title="A name for your artifact."
                        />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" 
                    name="attr_artifacttechlevel"
                        value="1" 
                        type="text" 
                        title="Tech level of Artifact." "/>                        
                        <input class=" sheet-inputfield52 sheet-blue-color sheet-center" 
                        name="attr_artifacttype"
                        value="Type" 
                        title="Type of Artifact: Belt, Broche, Necklace, etc."
                        />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" 
                    name="attr_artifactattribute"
                        value="[[floor(@{artifacttechlevel}/16)]]" 
                        type="text"
                        title="If the Artifact effects Core Attributes, select one. 1 Artifact, 1 Attribute."
                        style="width: 65px;" 
                        disabled />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" 
                    name="attr_artifactpsionic"
                        value="[[floor(@{artifacttechlevel}/16)]]" 
                        title="Artifacts Psionic Augmentation"
                        style="width: 65px;" 
                        disabled 
                        />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" 
                    name="attr_artifactskill"
                        value="[[floor(@{artifacttechlevel}/8)]]" 
                        title="Skill bonus." 
                        disabled 
                        />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" 
                    name="attr_artifactle"
                        value="[[(floor(@{artifacttechlevel}*@{artifacttechlevel})*2)]]" 
                        title="Artifact's Life Cord Maximum"
                        style="font-size: smaller;" 
                        disabled 
                        />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" 
                    name="attr_artifactre"
                        value="[[floor(@{artifacttechlevel}/32)]]"
                        title="Artifact grants bonus Raw Energy when burning LE." 
                        disabled 
                        />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" 
                    name="attr_artifactsphere"
                        value="[[floor(@{artifacttechlevel}/16)]]"
                        title="Artifact grants additional Sphere of Influence." 
                        disabled 
                        />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" 
                    name="attr_artifactdr"
                        value="[[floor(@{artifacttechlevel}/16)]]"
                        title="Artifact grants bonus to your imposed DR's on others." 
                        disabled 
                        />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" 
                    name="attr_artifacteffect"
                        title="artifact Effect such as Stun DR" 
                        type="text"
                        />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" 
                    name="attr_artifactlecost" 
                    value="0"
                        title="Artifact uses this much LE when used, auto burn." 
                        disabled 
                        />
                    <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_artifactrecost"
                        title="Artifact uses this much RE passively to operate."
                        />

                    <!-- BLUEPRINT ROW -->
                    <input class="sheet-inputfield-blank" style="width: 60px;">
                    <input class="sheet-inputfield-blank" style="width: 60px;">
                    <input class="sheet-inputfield-blank" style="width: 60px;">
                    <!--Attribute-->
                    <select class="sheet-dropdown sheet-blue-color sheet-center sheet-blue-color"
                        name="attr_artifactattributedisplay" title="Attribute Artifact" style="width:65px;">
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">STR</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">DEX</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">CON</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">INT</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">WIS</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">CHA</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" selected>None</option>
                    </select>
                    <select class="sheet-dropdown sheet-blue-color sheet-center sheet-blue-color"
                        name="attr_artifactpsionicdisplay" title="Attribute Artifact" style="width:65px;">
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">Body</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">Cause</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">Clair</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">cau</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">Dom</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">E.Com</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">M.Alt</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">Pyro</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">S.Alt</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;">Telek</option>
                        <option class="sheet-dropdown sheet-blue-color" style="background-color:#000005;" selected>None
                        </option>
                    </select>
                </div>
            </fieldset>
        </div>

        <div class="sheet-edit-inventory-contact-entries sheet-block">
            <span class="sheet-center sheet-gold-color" style="padding-left:380px;">CONTACTS</span>
            <div class="edit-contacts" style="padding-top: 10px;">
                <fieldset class="sheet-block repeating_contacts">
                    <input class="sheet-inputfield sheet-red-color" type="text" name="attr_contact" value="Name"
                        style="width: 15em;">
                    <input class="sheet-inputfield sheet-blue-color" type="text" name="attr_contactdata" value="Data"
                        style="width: 45em;">
                </fieldset>
            </div>
        </div>

    </div>
</div>


<div class="sheet-editcharacter">
    <!-- START OF EDIT SHEET -->    
</div>

<!-- Start of Psionics Edit Sheet -->

<div class="sheet-psionics">

    <!-- PAGE HEADER BELOW BUTTONS -->

    <!-- LIFE ENERGY -->
    <div class="sheet-psionics-grid-section">
        <div class="sheet-life-energy sheet-block" style="text-align: center;">
            <h2>
                LIFE CORD
            </h2>
            <span class="sheet-blue-color">Life Energy</span>
                <input class="sheet-inputfieldlc sheet-blue-color" 
                    title="Your Current Life Energy" 
                    type="number"
                    name="attr_life_energy" 
                    value="attr_life_energy" 
                    />
                <span class="sheet-red-color">
                    /
                </span>
                <input class="sheet-inputfieldlc sheet-blue-color" 
                    title="Your Maximum Life Energy" 
                    type="number"
                    name="attr_life_energy_max" 
                    value="" 
                    />
            <input class="sheet-inputfield52" 
                style="background-color: #282828; border:#282828"
                disabled/>
            <span class="sheet-blue-color">
                RE
            </span>
            <span class="sheet-red-color" 
                name="attr_raw_energy">
            </span>  
            <b style="color:#282828">
                ...
            </b>
            

            <span class="sheet-blue-color" title="Sphere of Influence">S.O.I.</span>
            <span class="sheet-red-color" name="attr_sphere_of_influence"></span>
            
            <input class="sheet-inputfield52" style="background-color: #282828; border:#282828" disabled>
            <span class="sheet-blue-color">Regen %</span class="sheet-blue-color">
            <input class="sheet-inputfieldlc sheet-blue-color" title="Percentage your LC regenerates (of max)"
                type="number" name="attr_life_energy_regen_percent" value="10">

            <input class="sheet-inputfieldlc sheet-blue-color" title="Actual Life Energy per day" type="number"
                name="attr_life_energy_regenerated" value="(@{life_energy_full}/100)*(@{life_energy_regen_percent})"
                disabled>
            <span class="sheet-blue-color">/day</span class="sheet-blue-color">
        </div>
    </div>

    <!-- PSIONIC SELECTION BUTTONS -->
    <div class="sheet-psionics-grid-section">
        <div class="sheet-psi-buttons sheet-block">
            <button class="sheet-button-roll2" type="action" name="act_body-discipline">Body Disc</button>
            <button class="sheet-button-roll2" type="action" name="act_causation">Causation</button>
            <button class="sheet-button-roll2" type="action" name="act_clairvoyance">Clairvoyance</button>
            <button class="sheet-button-roll2" type="action" name="act_deflection">Deflection</button>
            <button class="sheet-button-roll2" type="action" name="act_domination">Domination</button>
            <button class="sheet-button-roll2" type="action" name="act_energy-communion">E.Comm</button>
            <button class="sheet-button-roll2" type="action" name="act_molecular-alteration">Molecular</button>
            <button class="sheet-button-roll2" type="action" name="act_pyrokinesis">Pyrokinesis</button>
            <button class="sheet-button-roll2" type="action" name="act_subatomic-alteration">Subatomic</button>
            <button class="sheet-button-roll2" type="action" name="act_telekinesis">Telekinesis</button>
            <button class="sheet-button-roll2" type="action" name="act_anti-psionics">Anti Psi</button>
        </div>
    </div>

    <!-- BODY DISCIPLINE-->
    <div class="sheet-psionics-grid-section">
        <input type="hidden" class="sheet-tabstoggle1" name="attr_psiTab" value="">
        <div class="sheet-psi sheet-block">

            <h2> Body Discipline </h2>
            <span class="sheet-blue-color sheet-center" style="font-size: x-small;">Effective Level</span>
            <input class="sheet-inputfield52 sheet-center sheet-red-color" name="attr_psi_body_discipline_effective_lvl"
                value="attr_psi_body_discipline_effective_lvl"
                title="This is your effective level including Art, Misc, & Quirk." readonly />
            <span class="sheet-blue-color sheet-center" style="font-size: small;">BD Level</span>
            <input class="sheet-inputfield52 sheet-center sheet-red-color" name="attr_psi_body_discipline_lvl"
                value="@{psi_body_discipline_lvl}" title="This is your level without Art or Misc." readonly />
            <span class="sheet-blue-color sheet-center" style="font-size: small;">BD Points</span>
            <input class="sheet-inputfield52 sheet-center sheet-blue-color" type="number"
                name="attr_psi_body_discipline_points">
            <span class="sheet-blue-color sheet-center" style="font-size: x-small; text-align: right;">Body Disc.
                Progression</span>
            <!-- <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_body_discipline_points" type="number"> -->
            <select class="skill-progression sheet-dorpdown sheet-blue-color sheet-inputfield" type="text"
                name="attr_skillprogression" style="width: 60px; font-size: x-small;">
                <option style="color:#278bce;background:#000000;" selected>1,2,3...</option>
                <option style="color:#278bce;background:#000000;">4,5,6,7</option>
                <option style="color:#278bce;background:#000000;">3,4,5,6</option>
                <option style="color:#278bce;background:#000000;">2,3,4,5</option>
                <option style="color:#278bce;background:#000000;">1,2,3,4</option>
                <option style="color:#278bce;background:#000000;">3,3,3,3</option>
                <option style="color:#278bce;background:#000000;">5,5,5,5</option>
                <option style="color:#278bce;background:#000000;">10,10,10,10</option>
            </select>
            <button class="sheet-button-roll" type="roll"
                value="&{template:default} {{name=@{character_name} Rolls Focus Skill}} {{Focus Roll=[[1d20+@{focus}]]}} {{?{Roll|Public, |To DM,/w gm} Rolling ?{Number|1}?{Type|D4|D6|D8|D10|D12|D20|D100} + ?{Modifier|0}: [[ ?{Number}?{Type}+?{Modifier} ]]}}"
                style="font-size:smaller;">Focus</button>
            <span disabled></span>
            <span disabled></span>

            <!-- Boosting Headers -->
            <span class="sheet-center sheet-gold-color" style="padding-left:0px;">Artifact</span>
            <span class="sheet-center sheet-gold-color" style="padding-left:0px;">Type</span>
            <span class="sheet-center sheet-gold-color" style="padding-left:0px;">Quirk</span>
            <span class="sheet-center sheet-red-color" style="padding-left:0px;">Boost RE</span>

            <button class="sheet-button-roll sheet-red-color" type="roll"
                value="&{template:default} {{name=@{character_name} Boosts Strength with Body Discipline}} {{Boost Strength=[[floor(@{psi_body_discipline_boost_re}/@{psi_body_discipline_boost_str_cost})]]}}"
                style="font-size:smaller; color: red;" title="Your Strength Boost">STR</button>
            <button class="sheet-button-roll sheet-red-color" type="roll"
                value="&{template:default} {{name=@{character_name} Boosts Dexterity with Body Discipline}} {{Boost Dexterity=[[floor(@{psi_body_discipline_boost_re}/@{psi_body_discipline_boost_dex_cost})]]}}"
                style="font-size:smaller; color: red;" title="Your Strength Boost">DEX</button>
            <button class="sheet-button-roll sheet-red-color" type="roll"
                value="&{template:default} {{name=@{character_name} Boosts Constitution with Body Discipline}} {{Boost Constitution=[[floor(@{psi_body_discipline_boost_re}/@{psi_body_discipline_boost_con_cost})]]}}"
                style="font-size:smaller; color: red;" title="Your Strength Boost">CON</button>
            <span class="sheet-center sheet-gold-color" style="color: silver;">Adapt</span>
            <span class="sheet-center sheet-gold-color" style="color: silver;">STR</span>
            <span class="sheet-center sheet-gold-color" style="color: silver;">DEX</span>
            <span class="sheet-center sheet-gold-color" style="color: silver;">CON</span>

            <!-- TOTALS -->
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_artifact" value="" type="number">
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_artifact_type" type="text"
                title="What kind of item, belt, broche, sword, etc." />
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_quirk" value="" type="number">
            <input class="sheet-inputfield sheet-center sheet-red-color" name="attr_psi_body_discipline_boost_re"
                type="text" title="This is how much RE you are investing into your Boost." />
            <input class="sheet-inputfield sheet-center sheet-red-color" name="attr_psi_body_discipline_boost_str_cost"
                value="8" type="number"
                title="Every 10th level of Body Discipline decreases this cost by 1. Base RE Cost for Strength is 8."
                style="width: 60px; color: red;" />
            <input class="sheet-inputfield sheet-center sheet-red-color" name="attr_psi_body_discipline_boost_dex_cost"
                value="16" type="number"
                title="Every 10th level of Body Discipline decreases this cost by 1. Base RE Cost for Dexterity is 16."
                style="width: 60px; color: red;">
            <input class="sheet-inputfield sheet-center sheet-red-color" name="attr_psi_body_discipline_boost_con_cost"
                value="12" type="number"
                title="Every 10th level of Body Discipline decreases this cost by 1. Base RE Cost for Constitution is 12."
                style="width: 60px; color: red;" />
            <span disabled></span>

            <input class="sheet-inputfield sheet-center sheet-red-color" style="width:60px; color: silver;"
                name="attr_psi_body_discipline_adaptation_str_bonus"                
                title="Every level gain a +1 to either Str or Con." value="0" type="number" />
            <input class="sheet-inputfield sheet-center sheet-red-color" style="width:60px; color: silver;"
                name="attr_psi_body_discipline_adaptation_dex_bonus"
                title="Every 4th level you may select +1 Dexterity in place of Str or Con." value="0" type="number">
            <input class="sheet-inputfield sheet-center sheet-red-color" style="width:60px; color: silver;"
                name="attr_psi_body_discipline_adaptation_con_bonus"
                title="Every level you may gain a +1 to either Str or Con." value="0" type="number">

            <!-- Healing Headers -->
            <span class="sheet-center sheet-red-color sheet-font-xsmall"
                style="font-size: x-small;text-align: center; color:rgb(14, 237, 14)">Heal & Regen</span>
            <span class="sheet-center sheet-gold-color" style="padding-left:0px; color:rgb(14, 237, 14)">Heal
                Cost</span>
            <span class="sheet-center sheet-gold-color" style="padding-left:0px; color:rgb(14, 237, 14)">RE Used</span>
            <span class="sheet-center sheet-gold-color"
                style="padding-left:0px; color:rgb(14, 237, 14); font-size: smaller;">Heal lvl <span
                    class="sheet-center sheet-blue-color" name="attr_psi_body_discipline_heal_lvl"
                    value="attr_psi_body_discipline_heal_lvl" style="font-weight: bold;"
                    title="This tells you what level your Heal is on the Dice Progression Chart."></span></span>
            <span class="sheet-center sheet-gold-color" style="padding-left:0px; color:rgb(14, 237, 14); font-size: x-small;">BD Heal Quirk</span>
            <span class="sheet-center sheet-gold-color" style="padding-left:0px; color: lightseagreen;">Regen.</span>

            <!-- Natural Armor Headers-->
            <span class="sheet-center sheet-red-color sheet-font-xsmall"
                style="font-size: smaller; text-align: center; color:pink">Nat Armor</span>
            <span class="sheet-center sheet-red-color sheet-font-xsmall"
                style="font-size: smaller; text-align: center; color:pink">P+</span>
            <span class="sheet-center sheet-red-color sheet-font-xsmall"
                style="font-size: smaller; text-align: center; color:pink">RE Cost</span>
            <span class="sheet-center sheet-red-color sheet-font-xsmall"
                style="font-size: smaller; text-align: center; color:pink">RE Used</span>
            <span class="sheet-center sheet-red-color sheet-font-xsmall"
                style="font-size: smaller; text-align: center; color:pink">Hours</span>

            <!-- TOTALS -->
            <button class="sheet-button-roll" type="roll"
                value="&{template:default} {{name=@{character_name} Rolls Body Discipline Heal}} {{Heal Roll=[[@{psi_body_discipline_heal_dice}*floor(@{psi_body_discipline_heal_re_used}/@{psi_body_discipline_heal_cost})]]}}"
                style="font-size:smaller;" title="Rolls your Heal Dice + Constituion ">Heal</button>
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_heal_cost" value="attr_psi_body_discipline_heal_cost" type="number"
                title="Base cost for Heal is 10RE." readonly />
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_heal_re_used" value="0" type="number"
                title="Every 10 additional RE burned adds a multiplier.">
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_heal_dice" type="text"
                title="Dice rolled, determined from the Dice Progression Chart." />
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_heal_quirk" value="0" type="number"
                title="Quirk Heal Bonus. Decreases RE Cost." />
            <input class="sheet-inputfield sheet-center sheet-blue-color"
                style="width:75px; color: lightseagreen; font-weight: bold;" name="attr_psi_body_discipline_regen"
                value="" type="number" title="Body Regeneration" readonly />

            <!-- Natural Armor Totals -->
            <input class="sheet-inputfield sheet-center sheet-pink-color"
                name="attr_psi_body_discipline_nat_armor_hp_max" 
                type="number"
                style="width: 75px; text-align: center; color:pink" 
                readonly="true" 
                />

            <input class="sheet-inputfield sheet-center sheet-pink-color"
                name="attr_psi_body_discipline_nat_armor_p_plus" 
                value="floor(@{psi_body_discipline_effective_lvl}/16)"
                type="number" style="text-align: center; color:pink" 
                readonly="true"
                />

            <span class="sheet-pink-color sheet-center" 
                name="attr_psi_body_discipline_nat_armor_re_cost"
                style="width: 60px; text-align: center; color:pink">
            </span>
            <input class="sheet-inputfield sheet-center sheet-pink-color"
                name="attr_psi_body_discipline_nat_armor_re_used" 
                type="number"
                style="width: 60px; text-align: center; color:pink"
                />
            <input class="sheet-inputfield sheet-center sheet-pink-color"
                name="attr_psi_body_discipline_nat_armor_med_time" value="attr_psi_body_discipline_nat_armor_med_time"
                type="text" style="width: 60px; text-align: center; font-size: x-small; color:pink" readonly />
        </div>        
            <div class="sheet-repeating-psi sheet-block">
                <h2> Body Discipline Sub-Skills </h2>
                <fieldset class="repeating_bd-skills">    
                    <button class="sheet-button-roll2" type="roll" name="roll_skill" value="&{template:default} {{Name=@{skillname}}} {{Description=@{description}}} {{Dice=[[(@{dtype}*@{multiplier})]]}} {{Multiplier=[[(@{multiplier}+(@{re_used}/@{re_cost}))]]}} {{P+=[[@{p_plus}]]}} {{Effect=@{effect}}} {{Difficulty Rating=[[@{difficulty_rating}]]}}"></button>             
                        <input class="sheet-inputfield sheet-blue-color" type="text" name="attr_skillname" value="Name">
                        <input class="sheet-inputfield150 sheet-blue-color" type="text" name="attr_description" value="Description">
                        <input class="sheet-inputfield sheet-blue-color" type="text" name="attr_dtype" value="(xDx)">
                        <span class="sheet-blue-color">
                            x
                        </span>
                        <input class="sheet-inputfield52 sheet-blue-color" type="number" name="attr_multiplier" value="1">                    
                        <span class="sheet-blue-color">
                            P+
                        </span>
                        <input class="sheet-inputfield52 sheet-blue-color" type="number" name="attr_p_plus" value="1">                    
                        <span class="sheet-blue-color">
                            Effect
                        </span>
                        <input class="sheet-inputfield sheet-blue-color" type="text" name="attr_effect" value="">                    
                        <span class="sheet-blue-color">
                            DR
                        </span>
                        <input class="sheet-inputfield52 sheet-blue-color" type="text" name="attr_difficulty_rating" value="">
                        <span class="sheet-blue-color">
                            RE Cost
                        </span>
                        <input class="sheet-inputfield52 sheet-blue-color" type="number" name="attr_re_cost" value="0">
                        <span class="sheet-blue-color">
                            Used
                        </span>
                        <input class="sheet-inputfield52 sheet-blue-color" type="number" name="attr_re_used" value="0">
                </fieldset>                   
            </div>
        </div>
    </div>


    <!-- CAUSATION -->
    <div class="sheet-psionics-grid-section">
        <input type="hidden" class="sheet-tabstoggle1" name="attr_psiTab" value="">
        <div class="sheet-psi sheet-block">

            <h2> Causation </h2>
            <span class="sheet-blue-color sheet-center" style="font-size: x-small;">Effective Level</span>
            <input class="sheet-inputfield52 sheet-center sheet-red-color" name="attr_psi_body_discipline_effective_lvl"
                value="attr_psi_body_discipline_effective_lvl"
                title="This is your effective level including Art, Misc, & Quirk." readonly />
            <span class="sheet-blue-color sheet-center" style="font-size: small;">BD Level</span>
            <input class="sheet-inputfield52 sheet-center sheet-red-color" name="attr_psi_body_discipline_lvl"
                value="@{psi_body_discipline_lvl}" title="This is your level without Art or Misc." readonly />
            <span class="sheet-blue-color sheet-center" style="font-size: small;">BD Points</span>
            <input class="sheet-inputfield52 sheet-center sheet-blue-color" type="number"
                name="attr_psi_body_discipline_points">
            <span class="sheet-blue-color sheet-center" style="font-size: x-small; text-align: right;">Body Disc.
                Progression</span>
            <!-- <input class="sheet-inputfield52 sheet-blue-color sheet-center" name="attr_body_discipline_points" type="number"> -->
            <select class="skill-progression sheet-dorpdown sheet-blue-color sheet-inputfield" type="text"
                name="attr_skillprogression" style="width: 60px; font-size: x-small;">
                <option style="color:#278bce;background:#000000;" selected>1,2,3...</option>
                <option style="color:#278bce;background:#000000;">4,5,6,7</option>
                <option style="color:#278bce;background:#000000;">3,4,5,6</option>
                <option style="color:#278bce;background:#000000;">2,3,4,5</option>
                <option style="color:#278bce;background:#000000;">1,2,3,4</option>
                <option style="color:#278bce;background:#000000;">3,3,3,3</option>
                <option style="color:#278bce;background:#000000;">5,5,5,5</option>
                <option style="color:#278bce;background:#000000;">10,10,10,10</option>
            </select>
            <button class="sheet-button-roll" type="roll"
                value="&{template:default} {{name=@{character_name} Rolls Focus Skill}} {{Focus Roll=[[1d20+@{focus}]]}} {{?{Roll|Public, |To DM,/w gm} Rolling ?{Number|1}?{Type|D4|D6|D8|D10|D12|D20|D100} + ?{Modifier|0}: [[ ?{Number}?{Type}+?{Modifier} ]]}}"
                style="font-size:smaller;">Focus</button>
            <span disabled></span>
            <span disabled></span>

            <!-- Boosting Headers -->
            <span class="sheet-center sheet-gold-color" style="padding-left:0px;">Artifact</span>
            <span class="sheet-center sheet-gold-color" style="padding-left:0px;">Type</span>
            <span class="sheet-center sheet-gold-color" style="padding-left:0px;">Quirk</span>
            <span class="sheet-center sheet-red-color" style="padding-left:0px;">Boost RE</span>

            <button class="sheet-button-roll sheet-red-color" type="roll"
                value="&{template:default} {{name=@{character_name} Boosts Strength with Body Discipline}} {{Boost Strength=[[floor(@{psi_body_discipline_boost_re}/@{psi_body_discipline_boost_str_cost})]]}}"
                style="font-size:smaller; color: red;" title="Your Strength Boost">STR</button>
            <button class="sheet-button-roll sheet-red-color" type="roll"
                value="&{template:default} {{name=@{character_name} Boosts Dexterity with Body Discipline}} {{Boost Dexterity=[[floor(@{psi_body_discipline_boost_re}/@{psi_body_discipline_boost_dex_cost})]]}}"
                style="font-size:smaller; color: red;" title="Your Strength Boost">DEX</button>
            <button class="sheet-button-roll sheet-red-color" type="roll"
                value="&{template:default} {{name=@{character_name} Boosts Constitution with Body Discipline}} {{Boost Constitution=[[floor(@{psi_body_discipline_boost_re}/@{psi_body_discipline_boost_con_cost})]]}}"
                style="font-size:smaller; color: red;" title="Your Strength Boost">CON</button>
            <span class="sheet-center sheet-gold-color" style="color: silver;">Adapt</span>
            <span class="sheet-center sheet-gold-color" style="color: silver;">STR</span>
            <span class="sheet-center sheet-gold-color" style="color: silver;">DEX</span>
            <span class="sheet-center sheet-gold-color" style="color: silver;">CON</span>

            <!-- TOTALS -->
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_artifact" value="" type="number">
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_artifact_type" type="text"
                title="What kind of item, belt, broche, sword, etc." />
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_quirk" value="" type="number">
            <input class="sheet-inputfield sheet-center sheet-red-color" name="attr_psi_body_discipline_boost_re"
                type="text" title="This is how much RE you are investing into your Boost." />
            <input class="sheet-inputfield sheet-center sheet-red-color" name="attr_psi_body_discipline_boost_str_cost"
                value="8" type="number"
                title="Every 10th level of Body Discipline decreases this cost by 1. Base RE Cost for Strength is 8."
                style="width: 60px; color: red;" />
            <input class="sheet-inputfield sheet-center sheet-red-color" name="attr_psi_body_discipline_boost_dex_cost"
                value="16" type="number"
                title="Every 10th level of Body Discipline decreases this cost by 1. Base RE Cost for Dexterity is 16."
                style="width: 60px; color: red;">
            <input class="sheet-inputfield sheet-center sheet-red-color" name="attr_psi_body_discipline_boost_con_cost"
                value="12" type="number"
                title="Every 10th level of Body Discipline decreases this cost by 1. Base RE Cost for Constitution is 12."
                style="width: 60px; color: red;" />
            <span disabled></span>

            <input class="sheet-inputfield sheet-center sheet-red-color" style="width:60px; color: silver;"
                name="attr_psi_body_discipline_adaptation_str_bonus"                
                title="Every level gain a +1 to either Str or Con." value="0" type="number" />
            <input class="sheet-inputfield sheet-center sheet-red-color" style="width:60px; color: silver;"
                name="attr_psi_body_discipline_adaptation_dex_bonus"
                title="Every 4th level you may select +1 Dexterity in place of Str or Con." value="0" type="number">
            <input class="sheet-inputfield sheet-center sheet-red-color" style="width:60px; color: silver;"
                name="attr_psi_body_discipline_adaptation_con_bonus"
                title="Every level you may gain a +1 to either Str or Con." value="0" type="number">

            <!-- Healing Headers -->
            <span class="sheet-center sheet-red-color sheet-font-xsmall"
                style="font-size: x-small;text-align: center; color:rgb(14, 237, 14)">Heal & Regen</span>
            <span class="sheet-center sheet-gold-color" style="padding-left:0px; color:rgb(14, 237, 14)">Heal
                Cost</span>
            <span class="sheet-center sheet-gold-color" style="padding-left:0px; color:rgb(14, 237, 14)">RE Used</span>
            <span class="sheet-center sheet-gold-color"
                style="padding-left:0px; color:rgb(14, 237, 14); font-size: smaller;">Heal lvl <span
                    class="sheet-center sheet-blue-color" name="attr_psi_body_discipline_heal_lvl"
                    value="attr_psi_body_discipline_heal_lvl" style="font-weight: bold;"
                    title="This tells you what level your Heal is on the Dice Progression Chart."></span></span>
            <span class="sheet-center sheet-gold-color" style="padding-left:0px; color:rgb(14, 237, 14); font-size: x-small;">BD Heal Quirk</span>
            <span class="sheet-center sheet-gold-color" style="padding-left:0px; color: lightseagreen;">Regen.</span>

            <!-- Natural Armor Headers-->
            <span class="sheet-center sheet-red-color sheet-font-xsmall"
                style="font-size: smaller; text-align: center; color:pink">Nat Armor</span>
            <span class="sheet-center sheet-red-color sheet-font-xsmall"
                style="font-size: smaller; text-align: center; color:pink">P+</span>
            <span class="sheet-center sheet-red-color sheet-font-xsmall"
                style="font-size: smaller; text-align: center; color:pink">RE Cost</span>
            <span class="sheet-center sheet-red-color sheet-font-xsmall"
                style="font-size: smaller; text-align: center; color:pink">RE Used</span>
            <span class="sheet-center sheet-red-color sheet-font-xsmall"
                style="font-size: smaller; text-align: center; color:pink">Hours</span>

            <!-- TOTALS -->
            <button class="sheet-button-roll" type="roll"
                value="&{template:default} {{name=@{character_name} Rolls Body Discipline Heal}} {{Heal Roll=[[@{psi_body_discipline_heal_dice}*floor(@{psi_body_discipline_heal_re_used}/@{psi_body_discipline_heal_cost})]]}}"
                style="font-size:smaller;" title="Rolls your Heal Dice + Constituion ">Heal</button>
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_heal_cost" value="attr_psi_body_discipline_heal_cost" type="number"
                title="Base cost for Heal is 10RE." readonly />
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_heal_re_used" value="0" type="number"
                title="Every 10 additional RE burned adds a multiplier.">
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_heal_dice" type="text"
                title="Dice rolled, determined from the Dice Progression Chart." />
            <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;"
                name="attr_psi_body_discipline_heal_quirk" value="0" type="number"
                title="Quirk Heal Bonus. Decreases RE Cost." />
            <input class="sheet-inputfield sheet-center sheet-blue-color"
                style="width:75px; color: lightseagreen; font-weight: bold;" name="attr_psi_body_discipline_regen"
                value="" type="number" title="Body Regeneration" readonly />

            <!-- Natural Armor Totals -->
            <input class="sheet-inputfield sheet-center sheet-pink-color"
                name="attr_psi_body_discipline_nat_armor_hp_max" 
                type="number"
                style="width: 75px; text-align: center; color:pink" 
                readonly="true" 
                />

            <input class="sheet-inputfield sheet-center sheet-pink-color"
                name="attr_psi_body_discipline_nat_armor_p_plus" 
                value="floor(@{psi_body_discipline_effective_lvl}/16)"
                type="number" style="text-align: center; color:pink" 
                readonly="true"
                />

            <span class="sheet-pink-color sheet-center" 
                name="attr_psi_body_discipline_nat_armor_re_cost"
                style="width: 60px; text-align: center; color:pink">
            </span>
            <input class="sheet-inputfield sheet-center sheet-pink-color"
                name="attr_psi_body_discipline_nat_armor_re_used" 
                type="number"
                style="width: 60px; text-align: center; color:pink"
                />
            <input class="sheet-inputfield sheet-center sheet-pink-color"
                name="attr_psi_body_discipline_nat_armor_med_time" value="attr_psi_body_discipline_nat_armor_med_time"
                type="text" style="width: 60px; text-align: center; font-size: x-small; color:pink" readonly />
        </div>        
            <div class="sheet-repeating-psi sheet-block">
                <h2> Body Discipline Sub-Skills </h2>
                <fieldset class="repeating_bd-skills">    
                    <button class="sheet-button-roll2" type="roll" name="roll_skill" value="&{template:default} {{Name=@{skillname}}} {{Description=@{description}}} {{Dice=[[(@{dtype}*@{multiplier})]]}} {{Multiplier=[[(@{multiplier}+(@{re_used}/@{re_cost}))]]}} {{P+=[[@{p_plus}]]}} {{Effect=@{effect}}} {{Difficulty Rating=[[@{difficulty_rating}]]}}"></button>             
                        <input class="sheet-inputfield sheet-blue-color" type="text" name="attr_skillname" value="Name">
                        <input class="sheet-inputfield150 sheet-blue-color" type="text" name="attr_description" value="Description">
                        <input class="sheet-inputfield sheet-blue-color" type="text" name="attr_dtype" value="(xDx)">
                        <span class="sheet-blue-color">
                            x
                        </span>
                        <input class="sheet-inputfield52 sheet-blue-color" type="number" name="attr_multiplier" value="1">                    
                        <span class="sheet-blue-color">
                            P+
                        </span>
                        <input class="sheet-inputfield52 sheet-blue-color" type="number" name="attr_p_plus" value="1">                    
                        <span class="sheet-blue-color">
                            Effect
                        </span>
                        <input class="sheet-inputfield sheet-blue-color" type="text" name="attr_effect" value="">                    
                        <span class="sheet-blue-color">
                            DR
                        </span>
                        <input class="sheet-inputfield52 sheet-blue-color" type="text" name="attr_difficulty_rating" value="">
                        <span class="sheet-blue-color">
                            RE Cost
                        </span>
                        <input class="sheet-inputfield52 sheet-blue-color" type="number" name="attr_re_cost" value="0">
                        <span class="sheet-blue-color">
                            Used
                        </span>
                        <input class="sheet-inputfield52 sheet-blue-color" type="number" name="attr_re_used" value="0">
                </fieldset>                   
            </div>
        </div>
    </div>
    

</div> <!-- End of 1st Div -->


<script type="text/worker">

    /* This controls the button functions to switch PAGE tabs */
    
    const buttonlist = ['character','equipped','editskills','inventory','editcharacter','psionics'];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });

    const inventorybuttonlist = ['melee','ranged','explosives','armor','items','artifacts','contacts'];
    inventorybuttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                inventoryTab: button
            });
        });
    });

/* This controls the button functions to switch Psionic tabs */

    const psibuttonlist = ['body-discipline','causation','clairvoyance','deflection','domination','energy-communion','molecular-alteration','pyrokinesis','subatomic-alteration','telekinesis','anti-psionics'];
    psibuttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                psiTab: button
            });
        });
    });



    function updateMovement() {
        getAttrs(['dexterity', 'raw_energy'], function(values) {
            let dex = parseInt(values.dexterity) / 5 || 1;                
            let re = Math.floor(parseInt(values.raw_energy) / 100) || 1;
            let move = Math.floor(dex / 10) + re || 1;
            setAttrs({ 
                hero_movement : move 
            });
        });
        }

    function updateActionPoints() {
        getAttrs(['dexterity', 'raw_energy'], function(values) {
            let dex = parseInt(values.dexterity) / 5 || 1;                
            /* let re = Math.floor(parseInt(values.raw_energy) / 100) || 1; */
            let points = Math.floor(dex) ;        
            setAttrs({ 
                actions : points 
            });
        });
        }
        
        function updateMentalActionPoints() {
        getAttrs(['intelligence'], function(values) {            
            let int = parseInt(values.intelligence) / 5 || 1;            
            /* let re = Math.floor(parseInt(values.raw_energy) / 100) || 1;      */
            let points = Math.floor(int) ;        
            setAttrs({ 
                mentalactions : points 
            });
        });
        }
                            /* UPDATE ATTRIBUTES */

        function updateStrength() {
            getAttrs(['racial_str', 'strength_cyb', 'strength_gen', 'strength_art', 'strength_misc', 'strength_temp', 'psi_body_discipline_adaptation_str_bonus', 'quirk_strength_bonus'], function(values) {            
                let r = parseInt(values.racial_str) || 0;
                let c = parseInt(values.strength_cyb) || 0;
                let g = parseInt(values.strength_gen) || 0;
                let a = parseInt(values.strength_art) || 0;
                let m = parseInt(values.strength_misc) || 0;
                let t = parseInt(values.strength_temp) || 0;    
                let bd = parseInt(values.psi_body_discipline_adaptation_str_bonus) || 0;        
                let q = parseInt(values.quirk_strength_bonus) || 0;    
                /* let re = Math.floor(parseInt(values.raw_energy) / 100) || 1;      */                
                setAttrs({ 
                    strength :  r+c+g+a+m+t+bd+q
                });
            });
            }
    
        on('change:racial_str change:strength_cyb change:strength_gen change:strength_art change:strength_misc change:strength_temp change:psi_body_discipline_adaptation_str_bonus change:quirk_strength_bonus', function(eventInfo) {
        getAttrs(['racial_str', 'strength_cyb', 'strength_gen', 'strength_art', 'strength_misc', 'strength_temp', 'psi_body_discipline_adaptation_str_bonus', 'quirk_strength_bonus'], function(values) {       
            let r = parseInt(values.racial_str) || 0;
            let c = parseInt(values.strength_cyb) || 0;
            let g = parseInt(values.strength_gen) || 0;
            let a = parseInt(values.strength_art) || 0;
            let m = parseInt(values.strength_misc) || 0;
            let t = parseInt(values.strength_temp) || 0;   
            let bd = parseInt(values.psi_body_discipline_adaptation_str_bonus) || 0;        
            let q = parseInt(values.quirk_strength_bonus) || 0;    
            setAttrs({ 
                strength : r+c+g+a+m+t+bd+q
            });
        });
        });

        function updateDexterity() {
            getAttrs(['racial_dex','dexterity_cyb', 'dexterity_gen', 'dexterity_art', 'dexterity_misc', 'dexterity_temp', 'quirk_dexterity_bonus','psi_body_discipline_adaptation_dex_bonus','quirk_dexterity_bonus'], function(values) {            
                let r = parseInt(values.racial_dex) || 0;
                let c = parseInt(values.dexterity_cyb) || 0;
                let g = parseInt(values.dexterity_gen) || 0;
                let a = parseInt(values.dexterity_art) || 0;
                let m = parseInt(values.dexterity_misc) || 0;
                let t = parseInt(values.dexterity_temp) || 0;     
                let bd = parseInt(values.psi_body_discipline_adaptation_dex_bonus) || 0;        
                let q = parseInt(values.quirk_dexterity_bonus) || 0;           
                /* let re = Math.floor(parseInt(values.raw_energy) / 100) || 1;      */                
                setAttrs({ 
                    dexterity :  r+c+g+a+m+t+bd+q
                });
            });
            }
    
        on('change:racial_dex change:dexterity_cyb change:dexterity_gen change:dexterity_art change:dexterity_misc change:dexterity_temp change:psi_body_discipline_adaptation_dex_bonus change:quirk_dexterity_bonus', function(eventInfo) {
        getAttrs(['racial_dex', 'dexterity_cyb', 'dexterity_gen', 'dexterity_art', 'dexterity_misc', 'dexterity_temp','psi_body_discipline_adaptation_dex_bonus','quirk_dexterity_bonus'], function(values) {       
            let r = parseInt(values.racial_dex) || 0;
            let c = parseInt(values.dexterity_cyb) || 0;
            let g = parseInt(values.dexterity_gen) || 0;
            let a = parseInt(values.dexterity_art) || 0;
            let m = parseInt(values.dexterity_misc) || 0;
            let t = parseInt(values.dexterity_temp) || 0;   
            let bd = parseInt(values.psi_body_discipline_adaptation_dex_bonus) || 0;        
            let q = parseInt(values.quirk_dexterity_bonus) || 0;    
            setAttrs({ 
                dexterity : r+c+g+a+m+t+bd+q
            });
        });
        });

        function updateConstitution() {
            getAttrs(['racial_con', 'constitution_cyb', 'constitution_gen', 'constitution_art', 'attr_constitution_misc', 'constitution_temp','psi_body_discipline_adaptation_con_bonus','quirk_constitution_bonus'], function(values) {            
                let r = parseInt(values.racial_con) || 0;
                let c = parseInt(values.constitution_cyb) || 0;
                let g = parseInt(values.constitution_gen) || 0;
                let a = parseInt(values.constitution_art) || 0;
                let m = parseInt(values.constitution_misc) || 0;
                let t = parseInt(values.constitution_temp) || 0;  
                let bd = parseInt(values.psi_body_discipline_adaptation_con_bonus) || 0;        
                let q = parseInt(values.quirk_constitution_bonus) || 0;            
                /* let re = Math.floor(parseInt(values.raw_energy) / 100) || 1;      */                
                setAttrs({ 
                    constitution :  r+c+g+a+m+t+bd+q
                });
            });
            }
    
        on('change:racial_con change:constitution_cyb change:constitution_gen change:constitution_art change:constitution_misc change:constitution_temp hange:psi_body_discipline_adaptation_con_bonus change:quirk_constitution_bonus', function(eventInfo) {
        getAttrs(['racial_con', 'constitution_cyb', 'constitution_gen', 'constitution_art', 'constitution_misc', 'constitution_temp','psi_body_discipline_adaptation_con_bonus','quirk_constitution_bonus'], function(values) {       
            let r = parseInt(values.racial_con) || 0;
            let c = parseInt(values.constitution_cyb) || 0;
            let g = parseInt(values.constitution_gen) || 0;
            let a = parseInt(values.constitution_art) || 0;
            let m = parseInt(values.constitution_misc) || 0;
            let t = parseInt(values.constitution_temp) || 0;   
            let bd = parseInt(values.psi_body_discipline_adaptation_con_bonus) || 0;        
            let q = parseInt(values.quirk_constitution_bonus) || 0;  
            setAttrs({ 
                constitution : r+c+g+a+m+t+bd+q
            });
        });
        });

        function updateIntelligence() {
            getAttrs(['racial_int', 'intelligence_cyb', 'intelligence_gen', 'intelligence_art', 'intelligence_misc', 'intelligence_temp', 'quirk_intelligence_bonus'], function(values) {            
                let r = parseInt(values.racial_int) || 0;
                let c = parseInt(values.intelligence_cyb) || 0;
                let g = parseInt(values.intelligence_gen) || 0;
                let a = parseInt(values.intelligence_art) || 0;
                let m = parseInt(values.intelligence_misc) || 0;
                let t = parseInt(values.intelligence_temp) || 0;            
                let q = parseInt(values.quirk_intelligence_bonus) || 0;               
                /* let re = Math.floor(parseInt(values.raw_energy) / 100) || 1;      */                
                setAttrs({ 
                    intelligence :  r+c+g+a+m+t+q
                });
            });
            }
    
        on('change:racial_int change:intelligence_cyb change:intelligence_gen change:intelligence_art change:intelligence_misc change:intelligence_temp change:quirk_intelligence_bonus', function(eventInfo) {
        getAttrs(['racial_int', 'intelligence_cyb', 'intelligence_gen', 'intelligence_art', 'intelligence_misc', 'intelligence_temp', 'quirk_intelligence_bonus'], function(values) {       
            let r = parseInt(values.racial_int) || 0;
            let c = parseInt(values.intelligence_cyb) || 0;
            let g = parseInt(values.intelligence_gen) || 0;
            let a = parseInt(values.intelligence_art) || 0;
            let m = parseInt(values.intelligence_misc) || 0;
            let t = parseInt(values.intelligence_temp) || 0;   
            let q = parseInt(values.quirk_intelligence_bonus) || 0;    
            setAttrs({ 
                intelligence : r+c+g+a+m+t+q
            });
        });
        });

        function updateWisdom() {
            getAttrs(['racial_wis', 'wisdom_cyb', 'wisdom_gen', 'wisdom_art', 'wisdom_misc', 'wisdom_temp', 'quirk_wisdom_bonus'], function(values) {            
                let r = parseInt(values.racial_wis) || 0;
                let c = parseInt(values.wisdom_cyb) || 0;
                let g = parseInt(values.wisdom_gen) || 0;
                let a = parseInt(values.wisdom_art) || 0;
                let m = parseInt(values.wisdom_misc) || 0;
                let t = parseInt(values.wisdom_temp) || 0;            
                let q = parseInt(values.quirk_wisdom_bonus) || 0;    
                /* let re = Math.floor(parseInt(values.raw_energy) / 100) || 1;      */                
                setAttrs({ 
                    wisdom :  r+c+g+a+m+t+q
                });
            });
            }
    
        on('change:racial_wis change:wisdom_cyb change:wisdom_gen change:wisdom_art change:wisdom_misc change:wisdom_temp change:quirk_wisdom_bonus', function(eventInfo) {
        getAttrs(['racial_wis', 'wisdom_cyb', 'wisdom_gen', 'wisdom_art', 'wisdom_misc', 'wisdom_temp', 'quirk_wisdom_bonus'], function(values) {       
            let r = parseInt(values.racial_wis) || 0;
            let c = parseInt(values.wisdom_cyb) || 0;
            let g = parseInt(values.wisdom_gen) || 0;
            let a = parseInt(values.wisdom_art) || 0;
            let m = parseInt(values.wisdom_misc) || 0;
            let t = parseInt(values.wisdom_temp) || 0;   
            let q = parseInt(values.quirk_wisdom_bonus) || 0;    
            setAttrs({ 
                wisdom : r+c+g+a+m+t+q
            });
        });
        });

        function updateCharisma() {
            getAttrs(['racial_cha', 'charisma_cyb', 'charisma_gen', 'charisma_art', 'charisma_misc', 'charisma_temp', 'quirk_charisma_bonus'], function(values) {            
                let r = parseInt(values.racial_cha) || 0;
                let c = parseInt(values.charisma_cyb) || 0;
                let g = parseInt(values.charisma_gen) || 0;
                let a = parseInt(values.charisma_art) || 0;
                let m = parseInt(values.charisma_misc) || 0;
                let t = parseInt(values.charisma_temp) || 0;      
                let q = parseInt(values.quirk_charisma_bonus) || 0;         
                /* let re = Math.floor(parseInt(values.raw_energy) / 100) || 1;      */                
                setAttrs({ 
                    charisma :  r+c+g+a+m+t+q
                });
            });
            }
    
        on('change:racial_cha change:charisma_cyb change:charisma_gen change:charisma_art change:charisma_misc change:charisma_temp change:quirk_charisma_bonus', function(eventInfo) {
        getAttrs(['racial_cha', 'charisma_cyb', 'charisma_gen', 'charisma_art', 'charisma_misc', 'charisma_temp', 'quirk_charisma_bonus'], function(values) {       
            let r = parseInt(values.racial_cha) || 0;
            let c = parseInt(values.charisma_cyb) || 0;
            let g = parseInt(values.charisma_gen) || 0;
            let a = parseInt(values.charisma_art) || 0;
            let m = parseInt(values.charisma_misc) || 0;
            let t = parseInt(values.charisma_temp) || 0;
            let q = parseInt(values.quirk_charisma_bonus) || 0;   
            setAttrs({ 
                charisma : r+c+g+a+m+t+q
            });
        });
        });

        

        /* UPDATE COMBAT STYLE */
        function updateCombatStyle() {
            getAttrs(['combat_style_points','combat_style_damage_dice_cost','combat_style_dmg_bonus_cost','combat_style_dmg_mult_cost','combat_style_pen_plus_cost','combat_style_atk_bonus_cost','combat_style_def_bonus_cost','combat_style_dr_1_cost','combat_style_dr_2_cost','combat_style_attribute','combat_style_dmg_attribute'], function(values) {            
                let p = parseInt(values.combat_style_points) || 0;   
                let ddc = parseInt(values.combat_style_damage_dice_cost) || 0;    
                let dbc = parseInt(values.combat_style_dmg_bonus_cost) || 0;    
                let dmc = parseInt(values.combat_style_dmg_mult_cost_cost) || 0;    
                let ppc = parseInt(values.combat_style_pen_plus_cost) || 0;    
                let abc = parseInt(values.combat_style_atk_bonus_cost) || 0;    
                let defc = parseInt(values.combat_style_def_bonus_cost) || 0;    
                let drc1 = parseInt(values.combat_style_dr_1_cost) || 0;    
                let drc2 = parseInt(values.combat_style_dr_2_cost) || 0;    

                let ca = parseInt(values.combat_style_attribute) || 0;    
                let cda = parseInt(values.combat_style_dmg_attribute) || 0;    

                let dtype = Math.floor(p/ddc) || 0;
                let db = Math.floor(p/dbc)+(cda) || 0;                
                let dm = Math.floor(p/dmc)+Math.floor(cda/10) || 0;
                let pp = Math.floor(p/ppc) || 0;
                let ab = Math.floor(p/abc) || 0;
                let defb = Math.floor(p/defc) || 0;
                let dr_1 = Math.floor(p/drc1) || 0;
                let dr_2 = Math.floor(p/drc2) || 0;                
                
                let atk = ab+ca || 0;
                let def = ca+defb || 0;
                
                setAttrs({ combat_style_dtype : dtype  });
                setAttrs({ combat_style_dmg_bonus : db  });
                setAttrs({ combat_style_dmg_mult : dm  });
                setAttrs({ combat_style_pen_plus : pp  });
                setAttrs({ combat_style_atk_bonus : atk  });
                setAttrs({ combat_style_def_bonus : def  });
                setAttrs({ combat_style_dr : dr_1  });
                setAttrs({ combat_style_dr_2 : dr_2  });
            });
            }
    
        on('change:combat_style_points change:combat_style_damage_dice_cost change:combat_style_dmg_bonus_cost change:combat_style_dmg_mult_cost change:combat_style_pen_plus_cost change:combat_style_atk_bonus_cost change:combat_style_def_bonus_cost change:combat_style_dr_1_cost change:combat_style_dr_2_cost change:combat_style_attribute change:combat_style_dmg_attribute', function(eventInfo) {
            getAttrs(['combat_style_points','combat_style_damage_dice_cost','combat_style_dmg_bonus_cost','combat_style_dmg_mult_cost','combat_style_pen_plus_cost','combat_style_atk_bonus_cost','combat_style_def_bonus_cost','combat_style_dr_1_cost','combat_style_dr_2_cost','combat_style_attribute','combat_style_dmg_attribute'], function(values) {            
                let p = parseInt(values.combat_style_points) || 0;   
                let ddc = parseInt(values.combat_style_damage_dice_cost) || 0;    
                let dbc = parseInt(values.combat_style_dmg_bonus_cost) || 0;    
                let dmc = parseInt(values.combat_style_dmg_mult_cost) || 0;    
                let ppc = parseInt(values.combat_style_pen_plus_cost) || 0;    
                let abc = parseInt(values.combat_style_atk_bonus_cost) || 0;    
                let defc = parseInt(values.combat_style_def_bonus_cost) || 0;    
                let drc1 = parseInt(values.combat_style_dr_1_cost) || 0;    
                let drc2 = parseInt(values.combat_style_dr_2_cost) || 0;    

                let ca = parseInt(values.combat_style_attribute) || 0;    
                let cda = parseInt(values.combat_style_dmg_attribute) || 0;    

                let dtype = Math.floor(p/ddc) || 0;
                let db = Math.floor(p/dbc)+(cda) || 0;                
                let dm = Math.floor(p/dmc)+Math.floor(cda/10) || 0;
                let pp = Math.floor(p/ppc) || 0;
                let ab = Math.floor(p/abc) || 0;
                let defb = Math.floor(p/defc) || 0;
                let dr_1 = Math.floor(p/drc1) || 0;
                let dr_2 = Math.floor(p/drc2) || 0;                
                
                let atk = ab+ca || 0;
                let def = ca+defb || 0;
                
                setAttrs({ combat_style_dtype : dtype  });
                setAttrs({ combat_style_dmg_bonus : db  });
                setAttrs({ combat_style_dmg_mult : dm  });
                setAttrs({ combat_style_pen_plus : pp  });
                setAttrs({ combat_style_atk_bonus : atk  });
                setAttrs({ combat_style_def_bonus : def  });
                setAttrs({ combat_style_dr : dr_1  });
                setAttrs({ combat_style_dr_2 : dr_2  });
        });
        });
   
    /* UPDATE HEALTH SECTION */

    function updateNatHealth() {
        getAttrs(['strength', 'constitution', 'cyb_misc_health', 'gen_misc_health', 'art_misc_health', 'misc_health', 'racial_hp_base',''], function(values) {            
            let s = parseInt(values.strength) || 0;
            let c = parseInt(values.constitution) || 0;
            let cy = parseInt(values.cyb_misc_health) || 0; 
            let g = parseInt(values.gen_misc_health) || 0;
            let a = parseInt(values.art_misc_health) || 0;
            let m = parseInt(values.misc_health) || 0;         
            let r = parseInt(values.racial_hp_base) || 0;                  
            setAttrs({ nat_health :  Math.floor(s*c)+cy+g+a+m+r });
        });
        }

    on('change:strength change:constitution change:cyb_misc_health change:gen_misc_health change:art_misc_health change:misc_health', function(eventInfo) {
        getAttrs(['strength', 'constitution', 'cyb_misc_health', 'gen_misc_health', 'art_misc_health', 'misc_health', 'racial_hp_base'], function(values) {       
            let s = parseInt(values.strength) || 0;
            let c = parseInt(values.constitution) || 0;
            let cy = parseInt(values.cyb_misc_health) || 0; 
            let g = parseInt(values.gen_misc_health) || 0;
            let a = parseInt(values.art_misc_health) || 0;
            let m = parseInt(values.misc_health) || 0;                            
            let r = parseInt(values.racial_hp_base) || 0;                            
            setAttrs({ nat_health :  Math.floor(s*c)+cy+g+a+m+r });
        });
        });

    function updateNatPenPlus() {
        getAttrs(['constitution', 'cyb_misc_pen_plus', 'gen_misc_pen_plus', 'art_misc_pen_plus', 'misc_pen_plus', 'psi_body_discipline_pen_plus', 'psi_telekinesis_pen_plus'], function(values) {                       
            let c = parseInt(values.constitution) || 0;
            let cy = parseInt(values.cyb_misc_pen_plus) || 0; 
            let g = parseInt(values.gen_misc_pen_plus) || 0;
            let a = parseInt(values.art_misc_pen_plus) || 0;
            let m = parseInt(values.misc_pen_plus) || 0;                            
            let t = parseInt(values.psi_telekinesis_pen_plus) || 0;
            let p = parseInt(values.psi_body_discipline_pen_plus) || 0;
            setAttrs({ nat_pen_plus :  Math.floor(c/10)+cy+g+a+m });
            setAttrs({ con_pen_plus :  Math.flor(c/10) });
        });
        }
        on('change:constitution change:cyb_misc_pen_plus change:gen_misc_pen_plus change:art_misc_pen_plus change:misc_pen_plus change:psi_body_discipline_pen_plus', function(eventInfo) {
            getAttrs(['constitution', 'cyb_misc_pen_plus', 'gen_misc_pen_plus', 'art_misc_pen_plus', 'misc_pen_plus', 'psi_body_discipline_pen_plus'], function(values) {                       
                    let c = parseInt(values.constitution) || 0;
                    let cy = parseInt(values.cyb_misc_pen_plus) || 0; 
                    let g = parseInt(values.gen_misc_pen_plus) || 0;
                    let a = parseInt(values.art_misc_pen_plus) || 0;
                    let m = parseInt(values.misc_pen_plus) || 0;                            
                    let p = parseInt(values.psi_body_discipline_pen_plus) || 0;
                    setAttrs({ nat_pen_plus :  Math.floor(c/10)+cy+g+a+m });
            });
            });  

    function updateNatDmgRed() {
        getAttrs(['constitution', 'cyb_misc_dmg_red', 'gen_misc_dmg_red', 'art_misc_dmg_red', 'misc_dmg_red'], function(values) {                       
            let c = parseInt(values.constitution) || 0;
            let cy = parseInt(values.cyb_misc_dmg_red) || 0; 
            let g = parseInt(values.gen_misc_dmg_red) || 0;
            let a = parseInt(values.art_misc_dmg_red) || 0;
            let m = parseInt(values.misc_dmg_red) || 0;                                        
            setAttrs({ nat_dmg_red :  Math.floor(c/5)+cy+g+a+m });
        });
        }
        on('change:constitution change:cyb_misc_dmg_red change:gen_misc_dmg_red change:art_misc_dmg_red change:misc_dmg_red', function(eventInfo) {
            getAttrs(['constitution', 'cyb_misc_dmg_red', 'gen_misc_dmg_red', 'art_misc_dmg_red', 'misc_dmg_red'], function(values) {                       
                let c = parseInt(values.constitution) || 0;
                let cy = parseInt(values.cyb_misc_dmg_red) || 0; 
                let g = parseInt(values.gen_misc_dmg_red) || 0;
                let a = parseInt(values.art_misc_dmg_red) || 0;
                let m = parseInt(values.misc_dmg_red) || 0;                                        
                setAttrs({ nat_dmg_red :  Math.floor(c/5)+cy+g+a+m });
        });
        });   

    function updateNatRegen() {
        getAttrs(['constitution', 'cyb_misc_regen', 'gen_misc_regen', 'art_misc_regen', 'misc_regen', 'psi_body_discipline_regen'], function(values) {                       
            let c = parseInt(values.constitution) || 0;
            let cy = parseInt(values.cyb_misc_regen) || 0; 
            let g = parseInt(values.gen_misc_regen) || 0;
            let a = parseInt(values.art_misc_regen) || 0;
            let m = parseInt(values.misc_regen) || 0;                                        
            let p = parseInt(values.psi_body_discipline_regen) || 0;                                        
            setAttrs({ nat_regen :  Math.floor(c/10)+cy+g+a+m+p });
        });
        }
        on('change:constitution change:cyb_misc_regen change:gen_misc_regen change:art_misc_regen change:misc_regen change:psi_body_discipline_regen', function(eventInfo) {
            getAttrs(['constitution', 'cyb_misc_regen', 'gen_misc_regen', 'art_misc_regen', 'misc_regen', 'psi_body_discipline_regen'], function(values) {                       
                let c = parseInt(values.constitution) || 0;
                let cy = parseInt(values.cyb_misc_regen) || 0; 
                let g = parseInt(values.gen_misc_regen) || 0;
                let a = parseInt(values.art_misc_regen) || 0;
                let m = parseInt(values.misc_regen) || 0;                                        
                let p = parseInt(values.psi_body_discipline_regen) || 0;                                        
                setAttrs({ nat_regen :  c+cy+g+a+m+p });
            });
        });                   
        
        function updateRangedDefense() {
            getAttrs(['dexterity', 'armor_ranged_defense_bonus', 'shield_ranged_defense_bonus', 'cyb_ranged_defense_bonus', 'gen_ranged_defense_bonus', 'art_ranged_defense_bonus', 'misc_ranged_defense_bonus', 'psi_deflection_ranged_defense_bonus', 'quirk_ranged_defense_bonus'], function(values) {                       
                let d = parseInt(values.dexterity) || 0;
                let ad = parseInt(values.armor_ranged_defense_bonus) || 0; 
                let sd = parseInt(values.shield_ranged_defense_bonus) || 0; 
                let cd = parseInt(values.cyb_ranged_defense_bonus) || 0; 
                let gd = parseInt(values.gen_ranged_defense_bonus) || 0;
                let ard = parseInt(values.art_ranged_defense_bonus) || 0;
                let md = parseInt(values.misc_ranged_defense_bonus) || 0;                                        
                let defb = parseInt(values.psi_deflection_ranged_defense_bonus) || 0;                                        
                let q = parseInt(values.quirk_ranged_defense_bonus) || 0;      
                setAttrs({ ranged_defense : ((d+ad+sd+cd+gd+ard+md+defb+q)+10) });
            });
            }

            on('change:dexterity change:armor_ranged_defense_bonus change:shield_ranged_defense_bonus change:cyb_ranged_defense_bonus change:gen_ranged_defense_bonus change:art_ranged_defense_bonus change:misc_ranged_defense_bonus change:psi_deflection_ranged_defense_bonus change:quirk_ranged_defense_bonus ', function(eventInfo) {
            getAttrs(['dexterity', 'armor_ranged_defense_bonus', 'shield_ranged_defense_bonus', 'cyb_ranged_defense_bonus', 'gen_ranged_defense_bonus', 'art_ranged_defense_bonus', 'misc_ranged_defense_bonus', 'psi_deflection_ranged_defense_bonus', 'quirk_ranged_defense_bonus'], function(values) {                       
                let d = parseInt(values.dexterity) || 0;
                let ad = parseInt(values.armor_ranged_defense_bonus) || 0; 
                let sd = parseInt(values.shield_ranged_defense_bonus) || 0; 
                let cd = parseInt(values.cyb_ranged_defense_bonus) || 0; 
                let gd = parseInt(values.gen_ranged_defense_bonus) || 0;
                let ard = parseInt(values.art_ranged_defense_bonus) || 0;
                let md = parseInt(values.misc_ranged_defense_bonus) || 0;                                        
                let defb = parseInt(values.psi_deflection_ranged_defense_bonus) || 0;              
                let q = parseInt(values.quirk_ranged_defense_bonus) || 0;                          
                setAttrs({ ranged_defense : (d+ad+sd+cd+gd+ard+md+defb+q)+10 });
            });
            });          
             
            function updateMeleeDefense() {
                getAttrs(['dexterity', 'armor_melee_defense_bonus', 'shield_melee_defense_bonus', 'cyb_melee_defense_bonus', 'gen_melee_defense_bonus', 'art_melee_defense_bonus', 'misc_melee_defense_bonus', 'psi_deflection_melee_defense_bonus', 'quirk_melee_defense_bonus','combat_style_def_bonus'], function(values) {                       
                    let d = parseInt(values.dexterity) || 0;
                    let ad = parseInt(values.armor_melee_defense_bonus) || 0; 
                    let sd = parseInt(values.shield_melee_defense_bonus) || 0; 
                    let cd = parseInt(values.cyb_melee_defense_bonus) || 0; 
                    let gd = parseInt(values.gen_melee_defense_bonus) || 0;
                    let ard = parseInt(values.art_melee_defense_bonus) || 0;
                    let md = parseInt(values.misc_melee_defense_bonus) || 0;                                        
                    let defb = parseInt(values.psi_deflection_melee_defense_bonus) || 0;                                        
                    let q = parseInt(values.quirk_melee_defense_bonus) || 0;   
                    let s = parseInt(values.combat_style_def_bonus) || 0;   
                    setAttrs({ melee_defense : (d+ad+sd+cd+gd+ard+md+defb+q+s) });
                });
                }
    
                on('change:dexterity change:armor_melee_defense_bonus change:shield_melee_defense_bonus change:cyb_melee_defense_bonus change:gen_melee_defense_bonus change:art_melee_defense_bonus change:misc_melee_defense_bonus change:psi_deflection_melee_defense_bonus change:quirk_melee_defense_bonus change:combat_style_def_bonus', function(eventInfo) {
                getAttrs(['dexterity', 'armor_melee_defense_bonus', 'shield_melee_defense_bonus', 'cyb_melee_defense_bonus', 'gen_melee_defense_bonus', 'art_melee_defense_bonus', 'misc_melee_defense_bonus', 'psi_deflection_melee_defense_bonus', 'quirk_melee_defense_bonus', 'combat_style_def_bonus'], function(values) {                       
                    let d = parseInt(values.dexterity) || 0;
                    let ad = parseInt(values.armor_melee_defense_bonus) || 0; 
                    let sd = parseInt(values.shield_melee_defense_bonus) || 0; 
                    let cd = parseInt(values.cyb_melee_defense_bonus) || 0; 
                    let gd = parseInt(values.gen_melee_defense_bonus) || 0;
                    let ard = parseInt(values.art_melee_defense_bonus) || 0;
                    let md = parseInt(values.misc_melee_defense_bonus) || 0;                                        
                    let defb = parseInt(values.psi_deflection_melee_defense_bonus) || 0;              
                    let q = parseInt(values.quirk_melee_defense_bonus) || 0;  
                    let s = parseInt(values.combat_style_def_bonus) || 0;                        
                    setAttrs({ melee_defense : (d+ad+sd+cd+gd+ard+md+defb+q+s) });
                });
                });         


                
            function updateMentalDefense() {
                getAttrs(['wisdom','psi_dominaton_mental_defense_bonus','psi_deflection_mental_defense_bonus','raw_energy','quirk_mental_defense_bonus','cyb_mental_defense_bonus','gen_mental_defense_bonus','art_mental_defense_bonus','misc_mental_defense_bonus'], function(values) {                       
                    let w = parseInt(values.wisdom) || 0;
                    let dom = parseInt(values.psi_domination_mental_defense_bonus) || 0;
                    let def = parseInt(values.psi_deflection_mental_defense_bonus) || 0;
                    let re = parseInt(values.raw_energy) || 0;
                    let qm = parseInt(values.quirk_mental_defense_bonus) || 0;
                    let cm = parseInt(values.cyb_mental_defense_bonus) || 0;
                    let gm = parseInt(values.gen_mental_defense_bonus) || 0;
                    let am = parseInt(values.art_mental_defense_bonus) || 0;
                    let md = parseInt(values.misc_mental_defense_bonus) || 0;                    
                    
                    setAttrs({ mental_defense : (w+dom+def+re+qm+cm+gm+am+md)+10 });
                });
                }    
                on('change:wisdom change:psi_dominaton_mental_defense_bonus change:psi_deflection_mental_defense_bonus change:raw_energy change:quirk_mental_defense_bonus change:cyb_mental_defense_bonus change:gen_mental_defense_bonus change:art_mental_defense_bonus change:misc_mental_defense_bonus  ', function(eventInfo) {
                    getAttrs(['wisdom','psi_dominaton_mental_defense_bonus','psi_deflection_mental_defense_bonus','raw_energy','quirk_mental_defense_bonus','cyb_mental_defense_bonus','gen_mental_defense_bonus','art_mental_defense_bonus','misc_mental_defense_bonus'], function(values) {                       
                        let w = parseInt(values.wisdom) || 0;
                        let dom = parseInt(values.psi_domination_mental_defense_bonus) || 0;
                        let def = parseInt(values.psi_deflection_mental_defense_bonus) || 0;
                        let re = parseInt(values.raw_energy) || 0;
                        let qm = parseInt(values.quirk_mental_defense_bonus) || 0;
                        let cm = parseInt(values.cyb_mental_defense_bonus) || 0;
                        let gm = parseInt(values.gen_mental_defense_bonus) || 0;
                        let am = parseInt(values.art_mental_defense_bonus) || 0;
                        let md = parseInt(values.misc_mental_defense_bonus) || 0;                    
                        
                        setAttrs({ mental_defense : (w+dom+def+re+qm+cm+gm+am+md)+10 });
                });
                });   
                
            function updateComputerDefense() {
                getAttrs(['cds_con_bonus','cds_cyb_bonus','cds_art_bonus','intelligence_cyb','cds_misc_bonus','psi_deflection_active_level','psi_energy_communion_cds_bonus','cds_quirk_bonus','raw_energy'], function(values) {                       
                    let con = parseInt(values.cds_con_bonus) || 0;
                    let ccb = parseInt(values.cds_cyb_bonus) || 0;
                    let cyb = parseInt(values.constitution_cyb) || 0;
                    let int = parseInt(values.intelligence_cyb) || 0;                    
                    let art = parseInt(values.cds_art_bonus) || 0;
                    let misc = parseInt(values.cds_misc_bonus) || 0;
                    let def = parseInt(values.psi_deflection_active_level) || 0;
                    let ecom = parseInt(values.psi_energy_communion_cds_bonus) || 0;                    
                    let q = parseInt(values.cds_quirk_bonus) || 0;
                    let re = parseInt(values.raw_energy) || 0;
                    /* if (values.knowledge_programming == "" ) {
                            let fw = 0;
                        }
                        else if (values.knowledge_programming > 0) {
                            let fw = Math.floor(def / 8) || 0;                        
                        }                                    
                    */
                    setAttrs({ firewall : (int+ccb+cyb+art+misc+q) });
                    setAttrs({ cds : (con+ccb+cyb+art+misc+q) });
                });
                }    
                on('change:cds_con_bonus change:cds_cyb_bonus change:cds_art_bonus change:intelligence_cyb change:cds_misc_bonus change:psi_deflection_active_level change:psi_energy_communion_cds_bonus change:cds_quirk_bonus change:raw_energy', function(eventInfo) {                    
                    getAttrs(['cds_con_bonus','cds_cyb_bonus','cds_art_bonus','intelligence_cyb','cds_misc_bonus','psi_deflection_active_level','psi_energy_communion_cds_bonus','cds_quirk_bonus','raw_energy'], function(values) {                       
                    let con = parseInt(values.cds_con_bonus) || 0;
                    let ccb = parseInt(values.cds_cyb_bonus) || 0;
                    let cyb = parseInt(values.constitution_cyb) || 0;
                    let int = parseInt(values.intelligence_cyb) || 0;                    
                    let art = parseInt(values.cds_art_bonus) || 0;
                    let misc = parseInt(values.cds_misc_bonus) || 0;
                    let def = parseInt(values.psi_deflection_active_level) || 0;
                    let ecom = parseInt(values.psi_energy_communion_cds_bonus) || 0;                    
                    let q = parseInt(values.cds_quirk_bonus) || 0;
                    let re = parseInt(values.raw_energy) || 0;
                    /* if (values.knowledge_programming == "" ) {
                            let fw = 0;
                        }
                        else if (values.knowledge_programming > 0) {
                            let fw = Math.floor(def / 8) || 0;                        
                        }                                    
                    */
                    setAttrs({ firewall : (int+ccb+cyb+art+misc+q) });
                    setAttrs({ cds : (con+ccb+cyb+art+misc+q) });
                });
                });   

       
        /* PSIONICS */
        
        /* LIFE ENERGY */
        function updateRawEnergy() {
            getAttrs(['life_energy','artifact_le'], function(values) {
                let le = parseInt(values.life_energy) || 0;
                let lea = parseInt(values.artifact_le) || 0;
                let re = Math.floor(le+lea) / 100 || 0;
                if (values.life_energy < 100 ) {
                    setAttrs({ sphere_of_influence : 0 });
                    }
                    else if (values.life_energy > 99) {
                    setAttrs({ sphere_of_influence : (re+3) })
                    }
                
                setAttrs({ raw_energy : Math.floor(re) });
                
            })
        }
        on("change:life_energy change:artifact_le", function(eventInfo) {
            getAttrs(['life_energy','artifact_le'], function(values) {
                let le = parseInt(values.life_energy) || 0;
                let lea = parseInt(values.artifact_le) || 0;
                let re = Math.floor(le+lea) / 100 || 0;
                if (values.life_energy < 100 ) {
                    setAttrs({ sphere_of_influence : 0 });
                    }
                    else if (values.life_energy > 99) {
                    setAttrs({ sphere_of_influence : (re+3) })
                    }
                setAttrs({ raw_energy : Math.floor(re) });                
            });
        })


        
        function updateBodyDiscipline() {
            getAttrs(['psi_body_discipline_points','psi_body_discipline_artifact','psi_body_discipline_quirk','psi_body_discipline_heal_quirk','psi_body_discipline_boost_str_cost','psi_body_discipline_boost_dex_cost','psi_body_discipline_boost_con_cost','raw_energy','psi_body_discipline_nat_armor_re_used','psi_body_discipline_nat_armor_med_time'], function() {
                let psi = parseInt(values.psi_body_discipline_points) || 0;            
                    let art = parseInt(values.psi_body_discipline_artifact) || 0;                                                                    
                    let quirk = parseInt(values.psi_body_discipline_quirk) || 0;                                                                
                    let hq = parseInt(values.psi_body_discipline_heal_quirk) || 0;
                    let ru = parseInt(values.psi_body_discipline_nat_armor_re_used) || 0;
                    let hc = 10 || 0;
                    let re = parseInt(values.raw_energy) || 0;
                    let natmaxhp = ((psi+art+quirk)*50) || 0;
                    let natmaxhpre = (natmaxhp*100) || 0;
                    let natreused = parseInt(values.psi_body_discipline_nat_armor_re_used) || 0;
                    let natmedtime = natmaxhpre-re || 0;                
                    setAttrs({ psi_body_discipline_effective_lvl: (psi+art+quirk) });
                    setAttrs({ psi_body_discipline_lvl: psi+quirk });
                    setAttrs({ psi_body_discipline_heal_lvl: Math.floor(psi/4)+art });                    
                    setAttrs({ psi_body_discipline_heal_cost: 10-hq });
                    setAttrs({ psi_body_discipline_regen: psi+art+re});
                    setAttrs({ psi_body_discipline_nat_armor_hp_max: natmaxhp });
                    setAttrs({ psi_body_discipline_nat_armor_re_cost: (natmaxhpre) });
                    setAttrs({ psi_body_discipline_nat_armor_med_time: (((natmaxhpre-(natreused*500))/re)/1800) });
                    setAttrs({ psi_body_discipline_nat_armor_p_plus: Math.floor(((psi+art+quirk)/16)+1) });             
            });
        }
            on("change:psi_body_discipline_points change:psi_body_discipline_artifact change:psi_body_discipline_quirk change:psi_body_discipline_heal_quirk change:psi_body_discipline_boost_re change:raw_energy change:constitution change:psi_body_discipline_nat_armor_re_used change:psi_body_disciplne_nat_armor_med_time",  function() {
                getAttrs(['psi_body_discipline_points','psi_body_discipline_artifact','psi_body_discipline_quirk','psi_body_discipline_heal_quirk','psi_body_discipline_boost_str_cost',             'psi_body_discipline_boost_dex_cost','psi_body_discipline_boost_con_cost','raw_energy','psi_body_discipline_nat_armor_re_used','psi_body_discipline_nat_armor_med_time'], function(values) {
                    let psi = parseInt(values.psi_body_discipline_points) || 0;            
                    let art = parseInt(values.psi_body_discipline_artifact) || 0;                                                                    
                    let quirk = parseInt(values.psi_body_discipline_quirk) || 0;                                                                
                    let hq = parseInt(values.psi_body_discipline_heal_quirk) || 0;
                    let ru = parseInt(values.psi_body_discipline_nat_armor_re_used) || 0;
                    let hc = 10 || 0;
                    let re = parseInt(values.raw_energy) || 0;
                    let natmaxhp = ((psi+art+quirk)*50) || 0;
                    let natmaxhpre = (natmaxhp*100) || 0;
                    let natreused = parseInt(values.psi_body_discipline_nat_armor_re_used) || 0;
                    let natmedtime = natmaxhpre-re || 0;                
                    setAttrs({ psi_body_discipline_effective_lvl: (psi+art+quirk) });
                    setAttrs({ psi_body_discipline_lvl: psi+quirk });
                    setAttrs({ psi_body_discipline_heal_lvl: Math.floor(psi/4)+art });                    
                    setAttrs({ psi_body_discipline_heal_cost: 10-hq });
                    setAttrs({ psi_body_discipline_regen: psi+art+re});
                    setAttrs({ psi_body_discipline_nat_armor_hp_max: natmaxhp });
                    setAttrs({ psi_body_discipline_nat_armor_re_cost: (natmaxhpre) });
                    setAttrs({ psi_body_discipline_nat_armor_med_time: (((natmaxhpre-(natreused*500))/re)/1800) });
                    setAttrs({ psi_body_discipline_nat_armor_p_plus: Math.floor(((psi+art+quirk)/16)+1) });
                });
            });

            function updateDeflection() {
                    getAttrs(['psi_deflection_points','deflectionskillprogression','psi_deflection_artifact_bonus','psi_deflection_misc_bonus','psi_deflection_quirk_bonus','psi_deflection_ranged_def_bonus','psi_deflection_melee_def_bonus','psi_deflection_pilot_def_bonus','psi_deflection_mental_def_bonus'], function() {                                    
                        let dl = parseInt(values.psi_deflection_points) || 0;
                        let g = parseInt(values.deflectionskillprogression) || 0;
                        let dab = parseInt(values.psi_deflection_artifact_bonus) || 0;
                        let dmb = parseInt(values.psi_deflection_misc_bonus) || 0;
                        let dqb = parseInt(values.psi_deflection_quirk_bonus) || 0;                                
                        let rbc = parseInt(values.psi_deflection_ranged_def_bonus_cost) || 0;            
                        let melbc = parseInt(values.psi_deflection_melee_def_bonus_cost) || 0;            
                        let pbc = parseInt(values.psi_deflection_pilot_def_bonus_cost) || 0;            
                        let menbc = parseInt(values.psi_deflection_mental_def_bonus_cost) || 0;            
                        let dal = Math.floor(dl+dab+dmb+dqb);                    
                        let rcau = Math.floor(dal/rbc);
                        let melcau = Math.floor(dal/melbc);
                        let pcau = Math.floor(dal/pbc);
                        let mcau = Math.floor(dal/menbc);
                        setAttrs({ psi_deflection_level: dl+dqb });
                        setAttrs({ psi_deflection_active_level: dal });
                        setAttrs({ psi_deflection_ranged_def_bonus:  rcau });
                        setAttrs({ psi_deflection_melee_def_bonus: melcau });
                        setAttrs({ psi_deflection_pilot_def_bonus:   pcau });
                        setAttrs({ psi_deflection_mental_def_bonus:  mcau });             
                    });
                    }
            
                on('change:psi_deflection_points change:deflectionskillprogression change:psi_deflection_artifact_bonus change:psi_deflection_misc_bonus change:psi_deflection_quirk_bonus change:psi_deflection_ranged_def_bonus change:psi_deflection_melee_def_bonus change:psi_deflection_pilot_def_bonus change:psi_deflection_mental_def_bonus', function() {
                getAttrs(['psi_deflection_points','deflectionskillprogression','psi_deflection_artifact_bonus','psi_deflection_misc_bonus','psi_deflection_quirk_bonus','psi_deflection_ranged_def_bonus','psi_deflection_melee_def_bonus','psi_deflection_pilot_def_bonus','psi_deflection_mental_def_bonus'], function(values) {       
                    let dl = parseInt(values.psi_deflection_points) || 0;
                    let g = parseInt(values.deflectionskillprogression) || 0;
                    let dab = parseInt(values.psi_deflection_artifact_bonus) || 0;
                    let dmb = parseInt(values.psi_deflection_misc_bonus) || 0;
                    let dqb = parseInt(values.psi_deflection_quirk_bonus) || 0;                            
                    let rbc = parseInt(values.psi_deflection_ranged_def_bonus_cost) || 0;            
                    let melbc = parseInt(values.psi_deflection_melee_def_bonus_cost) || 0;            
                    let pbc = parseInt(values.psi_deflection_pilot_def_bonus_cost) || 0;            
                    let menbc = parseInt(values.psi_deflection_mental_def_bonus_cost) || 0;            
                    let dal = Math.floor(dl+dab+dmb+dqb);                    
                    let rcau = Math.floor(dal/rbc);
                    let melcau = Math.floor(dal/melbc);
                    let pcau = Math.floor(dal/pbc);
                    let mcau = Math.floor(dal/menbc);
                    setAttrs({ psi_deflection_level: dl+dqb });
                    setAttrs({ psi_deflection_active_level: dal });
                    setAttrs({ psi_deflection_ranged_def_bonus:  rcau });
                    setAttrs({ psi_deflection_melee_def_bonus: melcau });
                    setAttrs({ psi_deflection_pilot_def_bonus:   pcau });
                    setAttrs({ psi_deflection_mental_def_bonus:  mcau });    
                });
            });

            function updateDomination() {
                    getAttrs(['psi_domination_points','dominationskillprogression','psi_dominaton_artifact_bonus','psi_domination_misc_bonus','psi_domination_quirk_bonus', 'psi_domination_empathy','psi_dominaton_mental_def_bonus','psi_domination_charm_bonus','psi_domination_telepathy_range','psi_domination_suggestion','psi_domination_command','psi_domination_hallucination','psi_domination_remote_healing','psi_body_discipline_active_level','psi_causation','medic','raw_energy'], function() {
                        let dp = parseInt(values.psi_domination_points) || 0;
                        let dsp = parseInt(values.dominationskillprogression) || 0;
                        let dab = parseInt(values.domination_artifact_bonus) || 0;
                        let dmb = parseInt(values.domination_misc_bonus) || 0;
                        let dqb = parseInt(values.domination_quirk_bonus) || 0;    
                        let ca = parseInt(values.psi_causation) || 0;
                            let dom = dp+dsp+dab+dmb+dqb+ca || 0;
                        let dmf = parseInt(values.psi_domination_mental_def_bonus) || 0;
                        let dem = parseInt(values.psi_domination_empathy) || 0;
                        let dcb = parseInt(values.psi_domination_charm_bonus) || 0;
                        let dtr = parseInt(values.psi_domination_telepathy_range) || 0;
                        let ds = parseInt(values.psi_domination_suggestion) || 0;
                        let dco = parseInt(values.psi_domination_command) || 0;
                        let dh = parseInt(values.psi_domination_hallucination) || 0;
                        let drh = parseInt(values.psi_domination_remote_healing) || 0;
                        let med = parseInt(values.medic) || 0;                    
                        let bd = parseInt(values.psi_body_discipline_active_level) || 0;
                        let re = parseInt(values.raw_energy)*2 || 0;
                            let heal = Math.floor(drh+(bd/2)+(med/2)) || 0;
                            let tel_range = Math.floor(dom/2)+re || 0;
                        setAttrs({ psi_domination_level: dom });
                        setAttrs({ psi_domination_mdf: dmf/3 });
                        setAttrs({ psi_domination_remote_heal_level: heal });
                        setAttrs({ psi_domination_telepathy_range: tel_range });
                    });

                    }
                on('change:psi_domination_points change:dominationskillprogression change:psi_dominaton_artifact_bonus change:psi_domination_misc_bonus change:psi_domination_quirk_bonus change:psi_domination_mental_def_bonus change:psi_domination_telepathy_range change:psi_body_discipline_active_level change:psi_causation change:medic change:raw_energy', function(){
                getAttrs(['psi_domination_points','dominationskillprogression','psi_dominaton_artifact_bonus','psi_domination_misc_bonus','psi_domination_quirk_bonus', 'psi_domination_empathy','psi_dominaton_mental_def_bonus','psi_domination_charm_bonus','psi_domination_telepathy_range','psi_domination_suggestion','psi_domination_command','psi_domination_hallucination','psi_domination_remote_healing','psi_body_discipline_active_level','psi_causation','medic','raw_energy'], function() {
                    let dp = parseInt(values.psi_domination_points) || 0;
                    let dsp = parseInt(values.dominationskillprogression) || 0;
                    let dab = parseInt(values.domination_artifact_bonus) || 0;
                    let dmb = parseInt(values.domination_misc_bonus) || 0;
                    let dqb = parseInt(values.domination_quirk_bonus) || 0;    
                    let ca = parseInt(values.psi_causation) || 0;
                        let dom = dp+dsp+dab+dmb+dqb+ca || 0;
                    let dmf = parseInt(values.psi_domination_mental_def_bonus) || 0;
                    let dem = parseInt(values.psi_domination_empathy) || 0;
                    let dcb = parseInt(values.psi_domination_charm_bonus) || 0;
                    let dtr = parseInt(values.psi_domination_telepathy_range) || 0;
                    let ds = parseInt(values.psi_domination_suggestion) || 0;
                    let dco = parseInt(values.psi_domination_command) || 0;
                    let dh = parseInt(values.psi_domination_hallucination) || 0;
                    let drh = parseInt(values.psi_domination_remote_healing) || 0;
                    let med = parseInt(values.medic) || 0;                    
                    let bd = parseInt(values.psi_body_discipline_active_level) || 0;
                    let re = parseInt(values.raw_energy)*2 || 0;
                        let heal = Math.floor(drh+(bd/2)+(med/2)) || 0;
                        let tel_range = Math.floor(dom/2)+re || 0;
                    setAttrs({ psi_domination_level: dom });
                    setAttrs({ psi_domination_mdf: dmf/3 });
                    setAttrs({ psi_domination_remote_heal_level: heal });
                    setAttrs({ psi_domination_telepathy_range: tel_range });
                });
            });

            /*function updateBodyDisciplineHeal() {
                getAttrs(['psi_body_discipline_effective_lvl'], function(values) {                       
                    let psi = parseInt(values.psi_body_discipline_effective_lvl) || 0;                         
                    setAttrs({ 
                        psi_body_discipline_heal_level :  Math.floor(psi) / 4
                    });
                });
                }
                on('change:psi_body_discipline_effective_lvl', function(eventInfo) {
                    getAttrs(['attr_psi_body_discipline_effective_lvl'], function(values) {                       
                        let psi = parseInt(values.psi_body_discipline_effective_lvl) || 0;                             
                        setAttrs({ 
                            psi_body_discipline_heal_level :  Math.floor(psi) / 4
                        });
                });
                });   
            */    
/* DICE PROGRESSION CHART */
            const dice_values = ['1d4', '1d6', '1d8', '1d10', '1d12', '1d20', '1D20+1D4', '1D20+1D6', '1D20+1D8', '1D20+1D10', '1D20+1D12', '1D20+1D20', '2D20+1D4', '2D20+1D6', '2D20+1D8', '2D20+1D10', '2D20+1D12', '2D20+2D20', '3D20+1D4', '3D20+1D6', '3D20+1D8', '3D20+1D10', '3D20+1D12', '3D20+3D20', '4D20+1D4', '4D20+1D6', '4D20+1D8', '4D20+1D10', '4D20+1D12', '4D20+4D20', '5D20+1D4', '5D20+1D6', '5D20+1D8', '5D20+1D10', '5D20+1D12', '5D20+1D20', '6D20+1D4', '6D20+1D6', '6D20+1D8', '6D20+1D10', '6D20+1D12', '6D20+1D20', '7D20+1D4', '7D20+1D6', '7D20+1D8', '7D20+1D10', '7D20+1D12', '7D20+1D20', '8D20+1D4', '8D20+1D6', '8D20+1D8', '8D20+1D10', '8D20+1D12', '8D20+1D20', '9D20+1D4', '9D20+1D6', '9D20+1D8', '9D20+1D10', '9D20+1D12', '9D20+1D20', '10D20+1D4', '10D20+1D6', '10D20+1D8', '10D20+1D10', '10D20+1D12', '10D20+1D20', '11D20+1D4', '11D20+1D6', '11D20+1D8', '11D20+1D10', '11D20+1D12', '11D20+1D20', '12D20+1D4', '12D20+1D6', '12D20+1D8', '12D20+1D10', '12D20+1D12', '12D20+1D20', '13D20+1D4', '13D20+1D6', '13D20+1D8', '13D20+1D10', '13D20+1D12', '13D20+1D20', '14D20+1D4', '14D20+1D6', '14D20+1D8', '14D20+1D10', '14D20+1D12', '14D20+1D20', '15D20+1D4', '15D20+1D6', '15D20+1D8', '15D20+1D10', '15D20+1D12', '15D20+1D20', '16D20+1D4', '16D20+1D6', '16D20+1D8', '16D20+1D10', '16D20+1D12', '16D20+1D20', '17D20+1D4', '17D20+1D6', '17D20+1D8', '17D20+1D10', '17D20+1D12', '17D20+1D20', '18D20+1D4', '18D20+1D6', '18D20+1D8', '18D20+1D10', '18D20+1D12', '18D20+1D20', '19D20+1D4', '19D20+1D6', '19D20+1D8', '19D20+1D10', '19D20+1D12', '19D20+1D20', '20D20+1D4', '20D20+1D6', '20D20+1D8', '20D20+1D10', '20D20+1D12', '20D20+1D20', '20D20+1D100', '5D100', '6D100', '7D100', '8D100', '9D100', '10D100+100',];

/* Inventory Armor Dice Auto-Populator */            
            on("change:armortechlevel", function(eventInfo) {
                getAttrs(["armortechlevel"], function(values) {
                            console.log(`values ${JSON.stringify(values)}`);
                            let tl = parseInt(values.armortechlevel);
                            console.log("tl: "+tl)
                            let dice = dice_values[tl];
                            console.log("dice: "+dice)
                            setAttrs({armordice:dice});    
                    });
            });    

            on("change:armortechlevel change:armor_cau_cost change:armordice_cost change:armor_health_max_cost change:armor_health_mult_cost change:armor_p_plus_cost change:armor_damage_reduction_cost change:armor_regen_cost change:armor_cds_cost change:armor_strength_cost change:armor_dexterity_cost change:armor_constitution_cost change:armor_movement_cost", function(eventInfo) {                            
                getAttrs(['armortechlevel', 'armor_cau_cost', 'armordice_cost', 'armor_health_max_cost', 'armor_health_mult_cost', 'armor_p_plus_cost', 'armor_damage_reduction_cost', 'armor_regen_cost', 'armor_cds_cost', 'armor_strength_cost', 'armor_dexterity_cost', 'armor_constitution_cost', 'armor_movement_cost'], function(values) {                    
                    let atl = parseInt(values.armortechlevel);
                    let adc = parseInt(values.armor_cau_cost);                    
                    let ahxc = parseInt(values.armor_health_mult_cost);
                    let apc  = parseInt(values.armor_p_plus_cost);
                    let adrc  = parseInt(values.armor_damage_reduction_cost);
                    let arc  = parseInt(values.armor_regen_cost);
                    let acdsc  = parseInt(values.armor_cds_cost);
                    let astrc = parseInt(values.armor_strength_cost);
                    let adexc = parseInt(values.armor_dexterity_cost);
                    let aconc = parseInt(values.armor_constitution_cost);
                    let amc = parseInt(values.armor_movement_cost);
                setAttrs({ cau_armor: Math.floor(atl/adc) });                
                setAttrs({ mult_armor_health: Math.floor(atl/ahxc) });
                setAttrs({ p_plus_armor: Math.floor(atl/apc) });
                setAttrs({ dr_armor: Math.floor(atl/adrc) });
                setAttrs({ regen_armor: Math.floor(atl/arc) });
                setAttrs({ cds_armor: Math.floor(atl/acdsc) });
                setAttrs({ str_armor: Math.floor(atl/astrc) });
                setAttrs({ dex_armor: Math.floor(atl/adexc) });
                setAttrs({ con_armor: Math.floor(atl/aconc) });
                setAttrs({ move_armor: Math.floor(atl/amc) });
            });
        });
    
    


/* Repeating Inventory Weapn Dice Auto-Populator */            
            on("change:repeating_weapons:weapontechlevel", function() {
                   getAttrs(["repeating_weapons_weapontechlevel"], function(values) {
                            console.log(`values ${JSON.stringify(values)}`);
                            let tl = parseInt(values.repeating_weapons_weapontechlevel);
                            console.log("tl: "+tl)
                            let dice = dice_values[tl-1];
                            console.log("dice: "+dice)
                            setAttrs({repeating_weapons_weapondamage:dice});    
                    });
            });    

/* Repeating Inventory Melee Dice Auto-Populator */            
            on("change:repeating_melee:meleetechlevel", function() {
                getAttrs(["repeating_melee_meleetechlevel"], function(values) {
                         console.log(`values ${JSON.stringify(values)}`);
                         let tl = parseInt(values.repeating_melee_meleetechlevel);
                         console.log("tl: "+tl)
                         let dice = dice_values[tl-1];
                         console.log("dice: "+dice)
                         setAttrs({repeating_melee_meleedamage:dice});    
                 });
         });    

/* Repeating Inventory Artifact Dice Auto-Populator */            
            on("change:repeating_artifact:artifacttechlevel", function() {
                getAttrs(["repeating_artifact_artifacttechlevel"], function(values) {
                            console.log(`values ${JSON.stringify(values)}`);
                            let tl = parseInt(values.repeating_artifact_artifacttechlevel);
                            console.log("tl: "+tl)
                            let dice = dice_values[tl-1];
                            console.log("dice: "+dice)
                            setAttrs({repeating_artifact_artifactdamage:dice});    
                    });
            });   

/* Repeating Inventory Explosive Dice Auto-Populator */            
            on("change:repeating_explosives:explosivetechlevel", function() {
                getAttrs(["repeating_explosives_explosivetechlevel","repeating_explosives_explosivedamagecost"], function(values) {
                            console.log(`values ${JSON.stringify(values)}`);
                            let t = parseInt(values.repeating_explosives_explosivetechlevel);
                            let dc = parseInt(values.repeating_explosives_explosivedamagecost);                            
                            let tl = Math.floor(t / dc);
                            console.log("tl: "+tl)
                            let dice = dice_values[tl-1];
                            console.log("dice: "+dice)
                            setAttrs({repeating_explosives_explosivedamage:dice});    
                    });
            });   

/* Body Discipline Boosting Scripts */

/* <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;" name="attr_psi_body_discipline_boost_str_cost" value="floor(8-(floor(@{psi_body_discipline}*0.1)))"   type="number" min="1" disabled/> */

/* <span class="sheet-blue-color sheet-center">Psi Level</span>                            
<span class="sheet-blue-color sheet-center" name="attr_psi_body_discipline_effective_lvl"></span>                        
<span class="sheet-blue-color sheet-center" style="font-size: x-small;">Base Level</span>                        
<input name="attr_psi_body_discipline_effective_lvl" value="(@{psi_body_discipline}+@{psi_body_discipline_artifact})" type="hidden" readonly/>
<input class="sheet-inputfield52 sheet-center sheet-blue-color" type="number" name="attr_psi_body_discipline">

                    <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;" name="attr_psi_body_discipline_artifact" value="" type="number">
                    <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;" name="attr_psi_body_discipline_misc" value="" type="number">
                    <input class="sheet-inputfield sheet-center sheet-blue-color" style="width:75px;" name="attr_psi_body_discipline_quirk" value="" type="number">                                        
*/



     /* Watching for when sheet is opened and initializing any empty numerical values */
     
        /* 
            The purpose of this watcher is to initialize all the 
            various important attributes, and thus avoid the complication of trying to 
            do something with something that is uncauined. Other places of the code
            will try to have safeguards against this, but this is just another layer
            of protection in case I miss something. 
        */ 
        
        // INITIALIZING NUMERIAL ATTRIBUTES //
        /* on('sheet:opened', function(values) {   
        let listOfNumericalAttributes = new Object();
        
        // Core attributes score summed up
        listOfNumericalAttributes["strength"] = ["racial_str", "cyb_str", "gene_str", "misc_str", "psi_body_discipline_str", "psi_telekinesis_str_augment", "strength_points"];
        listOfNumericalAttributes["dexterity"] = ["racial_dex", "cyb_dex", "gene_dex", "misc_dex", "psi_body_discipline_dex", "psi_telekinesis_dex_augment", "dexterity_points"];
        listOfNumericalAttributes["constitution"] =["racial_con", "cyb_con", "gene_con", "misc_con", "psi_body_discipline_con", "psi_telekinesis_con_augment", "constitution_points"];
        listOfNumericalAttributes["intelligence"] = ["racial_int", "cyb_int", "gene_int", "artifact_int", "misc_int", "intelligence_points"];
        listOfNumericalAttributes["wisdom"] = ["racial_wis", "cyb_wis", "gene_wis", "artifact_wis", "misc_wis", "wisdom_points"];
        listOfNumericalAttributes["charisma"] = ["racial_cha", "cyb_cha", "gene_cha", "artifact_cha", "misc_cha", "charisma_points"];
        
        
        //Psionics level equals....
        listOfNumericalAttributes["life_energy"] = ["life_energy", "artifact_life_energy"];
        listOfNumericalAttributes["raw_energy"] = ["raw_energy", "artifact_raw_energy"];
        listOfNumericalAttributes["psi_body_discipline"] = ["psi_body_discipline_artifact", "psi_body_discipline_misc", "psi_body_discipline_points"];
        listOfNumericalAttributes["psi_causation"] = ["psi_causation_artifact", "psi_causation_misc", "psi_causation_points"];
        listOfNumericalAttributes["psi_clairvoyance"] = ["psi_clairvoyance_artifact", "psi_clairvoyance_misc", "psi_clairvoyance_points"];
        listOfNumericalAttributes["psi_deflection"] = ["psi_deflection_artifact", "psi_deflection_misc", "psi_deflection_points"];
        listOfNumericalAttributes["psi_domination"] = ["psi_domination_artifact", "psi_domination_misc", "psi_domination_points"];
        listOfNumericalAttributes["psi_energy_communion"] = ["psi_energy_communion_artifact", "psi_energy_communion_misc", "psi_energy_communion_points"];
        listOfNumericalAttributes["psi_molecular_alteration"] = ["psi_molecular_alteration_artifact", "psi_molecular_alteration_misc", "psi_molecular_alteration_points"];
        listOfNumericalAttributes["psi_pyrokinesis"] = ["psi_pyrokinesis_artifact", "psi_pyrokinesis_misc", "psi_pyrokinesis_points"];
        listOfNumericalAttributes["psi_subatomic_alteration"] = ["psi_subatomic_alteration_artifact", "psi_subatomic_alteration_misc", "psi_subatomic_alteration_points"];
        listOfNumericalAttributes["psi_telekinesis"] = ["psi_telekinesis_artifact", "psi_telekinesis_misc", "psi_telekinesis_points"];
        listOfNumericalAttributes["psi_anti_psionics"] = ["psi_anti_psionics_artifact", "psi_anti_psionics_misc", "psi_anti_psionics_points"];
        
        // Education
        listOfNumericalAttributes["biology"] = ["cyb_biology", "psi_causation", "biology_misc", "biology_points"];
        listOfNumericalAttributes["business"] = ["cyb_business", "psi_causation", "business_misc", "business_points"];
        listOfNumericalAttributes["chemistry"] = ["cyb_chemistry", "psi_causation", "chemistry_misc", "chemistry_points"];
        listOfNumericalAttributes["engineering"] = ["cyber_engineering", "psi_causation", "engineering_misc", "engineering_points"];
        listOfNumericalAttributes["tronics"] = ["tronicsVI", "psi_causation", "tronics_misc", "tronics_points"];
        listOfNumericalAttributes["law"] = ["cyb_law", "psi_causation", "law_misc", "law_points"];
        listOfNumericalAttributes["physics"] = ["cyb_physics", "psi_causation", "physics_misc", "physics_points"];
        listOfNumericalAttributes["programming"] = ["cyb_programming", "psi_causation", "programming_misc", "programming_points"];
        
        // General skills
        listOfNumericalAttributes["acrobatics"] = ["cyb_acrobatics", "psi_causation", "acrobatics_misc", "acrobatics_points"];
        listOfNumericalAttributes["athletics"] = ["cyb_athletics", "psi_causation", "athletics_misc", "athletics_points"];
        listOfNumericalAttributes["awareness"] = ["awareness_cyb", "awareness_cause", "awareness_misc", "awareness_points"];
        listOfNumericalAttributes["barter"] = ["barter_cyb", "barter_causation", "barter_misc", "barter_points"];
        listOfNumericalAttributes["charm"] = ["charm_cyb", "charm_causation", "charm_misc", "charm_points"];
        listOfNumericalAttributes["deception"] = ["deception_cyb", "deception_causation", "deception_misc", "deception_points"];
        listOfNumericalAttributes["diplomacy"] = ["diplomacy_cyb", "diplomacy_causation", "diplomacy_misc", "diplomacy_points"];
        listOfNumericalAttributes["fighter_pilot"] = ["fighterPilot_cyb", "fighterPilot_causation", "fighterPilot_misc", "fighter_pilot_points"];
        listOfNumericalAttributes["focus"] = ["focus_cyb", "focus_causation", "focus_misc", "focus_points"];
        listOfNumericalAttributes["forgery"] = ["forgery_cyb", "forgery_causation", "forgery_misc", "forgery_points"];
        listOfNumericalAttributes["gatherInfo"] = ["gather_info_cyb", "gather_info_causation", "gather_info_misc", "gather_info_points"];
        listOfNumericalAttributes["insight"] = ["insight_cyb", "insight_causation", "insight_misc", "insight_points"];
        listOfNumericalAttributes["intimidate"] = ["intimidate_cyb", "intimidate_causation", "intimidate_misc", "intimidate_points"];
        listOfNumericalAttributes["investigation"] = ["investigation_cyb", "investigation_causation", "investigation_misc", "investigation_points"];
        listOfNumericalAttributes["medic"] = ["medic_cyb", "medic_causation", "medic_misc", "medic_points"];
        listOfNumericalAttributes["melee"] = ["melee_cyb", "melee_causation", "melee_misc", "melee_points"];
        listOfNumericalAttributes["perform"] = ["perform_cyb", "perform_causation", "perform_misc", "perform_points"];
        listOfNumericalAttributes["pilot"] = ["pilot_cyb", "pilot_causation", "pilot_misc", "pilot_points"];
        listOfNumericalAttributes["sleightOfHand"] = ["sleight_of_hand_cyb", "sleight_of_hand_causation", "sleight_of_hand_misc", "sleight_of_hand_points"];
        listOfNumericalAttributes["stealth"] = ["stealth_cyb", "stealth_causation", "stealth_misc", "stealth_points"];
        listOfNumericalAttributes["survival"] = ["survival_cyb", "survival_causation", "survival_misc", "survival_points"];
                
        let list = [];
        
        for (var key in listOfNumericalAttributes) {
            
            list.push(key);
            if (listOfNumericalAttributes.hasOwnProperty(key)) {           
                list = list.concat(listOfNumericalAttributes[key]);
            } 
        }      
        getAttrs(list, function(values) {
            list.forEach(attribute =>{
                if (!values[attribute]) {
                    setAttrs({ [attribute] : 0 });
                }
            });
        });
        });
    */  /* Create a list of all the variables and populate it with the values above */
        /*check if the property/key is cauined in the object itself, not in parent */
        /* Initialize all of the uncauined values on the character sheet to 0. */

    
/* Racial watcher */
/* // RACIAL TEMPLATES WORK!!!! DO NOT CHANGE UNLESS UPDATING NUMBERS // */
on('change:race', function(eventInfo) {
    /*
        This watcher looks for changes in race, and set the primaryRacial 
        attributes as appropriate. Again, this code could be made more compact, 
        but I prefer readability over fewer lines of code. 
    */
   
    getAttrs(['race'], function(values) {
        if (values.race == "Human") {
            setAttrs({ racial_str :               1 });
            setAttrs({ racial_dex :               1 });
            setAttrs({ racial_con :               1 });
            setAttrs({ iracial_int :              1 });
            setAttrs({ racial_wis :               1 });
            setAttrs({ racial_cha :               1 });
            setAttrs({ racial_str_max :          18 });
            setAttrs({ racial_dex_max :          12 });
            setAttrs({ racial_con_max :          10 });
            setAttrs({ racial_hp_base :          10 });
            setAttrs({ racial_le_base :          50 });            
        }    
        else if (values.race == "Sollox") {
            setAttrs({ racial_str :               0 });
            setAttrs({ racial_dex :               1 });
            setAttrs({ racial_con :               0 });
            setAttrs({ iracial_int :              3 });
            setAttrs({ racial_wis :               3 });
            setAttrs({ racial_cha :               2 });
            setAttrs({ racial_str_max :          10 });
            setAttrs({ racial_dex_max :          12 });
            setAttrs({ racial_con_max :          10 });
            setAttrs({ racial_hp_base :          10 });
            setAttrs({ racial_le_base :          35 });
        }
        else if (values.race == "Talaxian") {
            setAttrs({ racial_str :               2 });
            setAttrs({ racial_dex :               1 });
            setAttrs({ racial_con :               3 });
            setAttrs({ iracial_int :              0 });
            setAttrs({ racial_wis :               0 });
            setAttrs({ racial_cha :               0 });
            setAttrs({ racial_str_max :          25 });
            setAttrs({ racial_dex_max :          15 });
            setAttrs({ racial_con_max :          25 });
            setAttrs({ racial_hp_base :          15 });
            setAttrs({ racial_le_base :          25 });
        }
        else if (values.race == "Thorn") {
            setAttrs({ racial_str :              0 });
            setAttrs({ racial_dex :              0 });
            setAttrs({ racial_con :              1 });
            setAttrs({ iracial_int :             2 });
            setAttrs({ racial_wis :              2 });
            setAttrs({ racial_cha :              2 });
            setAttrs({ racial_str_max :         20 });
            setAttrs({ racial_dex_max :         10 });
            setAttrs({ racial_con_max :         20 });
            setAttrs({ racial_hp_base :         15 });
            setAttrs({ racial_le_base :         10 });
        }
        else {
            setAttrs({ racial_str :              0 });
            setAttrs({ racial_dex :              0 });
            setAttrs({ racial_con :              0 });
            setAttrs({ iracial_int :             0 });
            setAttrs({ racial_wis :              0 });
            setAttrs({ racial_cha :              0 });        
            setAttrs({ racial_hp_base :         10 });
            setAttrs({ racial_le_base :         25 });
        }
    });
    });    



/*
    (() => {
        const dieSizes = [4, 8, 10, 12, 20],
          dieSizeMaxIndex = dieSizes.length - 1,
          maxLevel = 256;
        let baseDice = 0,
          currentLevel = 1;
      
        for (let i=0; i<maxLevel; i++) {
          const currentDieSizeIndex = (currentLevel-1) % dieSizes.length;
          if (currentDieSizeIndex === dieSizeMaxIndex && currentLevel > 1) baseDice ++;
          const baseRoll =
            baseDice ? 
              currentDieSizeIndex === dieSizeMaxIndex ?
                `${baseDice}d${dieSizes[dieSizes.length-1]}` 
                : `${baseDice}d${dieSizes[dieSizes.length-1]} + `
              : '',
            extraRoll = currentDieSizeIndex === dieSizeMaxIndex ? `` : `1d${dieSizes[currentDieSizeIndex]}`;
          console.log(`Level ${currentLevel}: ${baseRoll}${extraRoll}`);
          currentLevel++;
        }
      })();
*/
</script>
